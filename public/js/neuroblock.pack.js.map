{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/Blocks/BCIBlocks.ts","webpack:///./src/Blocks/FlowBlocks.ts","webpack:///./src/Blocks/PlayerBlocks.ts","webpack:///./src/Components/averageBandPowerRange.component.ts","webpack:///./src/Components/blocklyEnd.component.ts","webpack:///./src/Components/buffer.component.ts","webpack:///./src/Components/display.component.ts","webpack:///./src/Components/graph.component.ts","webpack:///./src/Components/number.component.ts","webpack:///./src/Components/socket.types.ts","webpack:///./src/Components/string.component.ts","webpack:///./src/Controls/Array.control.ts","webpack:///./src/Controls/Number.control.ts","webpack:///./src/Controls/String.control.ts","webpack:///./src/Playground.ts","webpack:///./src/ReteEditor.ts","webpack:///./src/Sprite.ts","webpack:///./src/Utility/CustomBlock.ts","webpack:///./src/Utility/Toolbox.ts","webpack:///./src/Utility/WindowManager.ts","webpack:///./src/components.ts","webpack:///./src/config.ts","webpack:///./src/graph.ts","webpack:///./src/i18n/en.i18n.ts","webpack:///./src/i18n/i18n.ts","webpack:///./src/main.ts"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6E;;;;;;;;;;;;ACnRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;AAEpB;AAChB;AACoB;AACpB;AAEN;AAE/B,IAAI,MAAM,GAAG,qDAAe,CAAC,+CAAM,CA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","file":"neuroblock.pack.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"neuroblock\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/main.ts\",\"vendors~neuroblock\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","import { BCIDevice, BCIDeviceSample, ScalpElectrodes } from \"bci-device\";\nimport { Category } from \"../Utility/Toolbox\";\nimport { CustomBlock } from \"../Utility/CustomBlock\";\nimport * as bci from \"bcijs/browser\";\nimport { WindowManager } from \"../Utility/WindowManager\";\nimport * as i18n from \"../i18n/i18n\";\n\nimport config from \"../config\";\nimport { TelemetryData } from \"muse-js\";\nlet locale = i18n.set_locale(config.LOCALE);\n\nconst BUFFER_SIZE = 1024;\nconst WEIGHT = 0.90;\n\nlet buffer : number[] = [];\nlet weight : number[] = Array(6).fill(0);\n\n// Add a color for these blocks\nBlockly.Msg.BCI_HUE = 180;\n\n// Declare the bands\nWindowManager.clear();\nlet alpha = WindowManager.declare(\"alpha\", 0);\nlet beta  = WindowManager.declare(\"beta\",  0);\nlet theta = WindowManager.declare(\"theta\", 0);\nlet delta = WindowManager.declare(\"delta\", 0);\nlet gamma = WindowManager.declare(\"gamma\", 0);\nlet engagement = WindowManager.declare(\"engagement\", 0);\n\nlet battery = WindowManager.declare(\"battery\", -1);\nlet temperature = WindowManager.declare(\"temperature\", -1);\n\n/**\n * Device\n *\n * This is the global device handle used for any connected BCI device.\n *\n * By default, it is set up to accept samples only from AF7, buffer BUFFER_SIZE\n * amount of samples, and then extract alpha, beta, theta, delta, and gamma\n * signals to the window. Also, if the BCI device supports telemetry, it will\n * subscribe to it as well.\n */\nexport let Device: BCIDevice = new BCIDevice({\n\tdataHandler: (sample: BCIDeviceSample) => {\n\t\tif (sample.electrode !== ScalpElectrodes.AF7) return;\n\n\t\tsample.data.forEach((el: number) => {\n\t\t\tif (buffer.length > BUFFER_SIZE) buffer.shift();\n\t\t\tbuffer.push(el);\n\t\t});\n\n\t\tif (buffer.length < BUFFER_SIZE) return;\n\n\t\tlet psd = bci.psd(buffer);\n\n\t\tlet al = bci.psdBandPower(psd, sample.sampleRate, \"alpha\");\n\t\tlet be = bci.psdBandPower(psd, sample.sampleRate, \"beta\");\n\t\tlet th = bci.psdBandPower(psd, sample.sampleRate, \"theta\");\n\t\tlet de = bci.psdBandPower(psd, sample.sampleRate, \"delta\");\n\t\tlet ga = bci.psdBandPower(psd, sample.sampleRate, \"gamma\");\n\t\tlet sum = al + be + th + de + ga;\n\n\t\tlet w_alpha = al / sum;\n\t\tlet w_beta = be / sum;\n\t\tlet w_theta = th / sum;\n\t\tlet w_delta = de / sum;\n\t\tlet w_gamma = ga / sum;\n\t\tlet w_engagement = be / (al + th);\n\n\t\tlet weighted_avg = (original: number, next: number) =>\n\t\t\toriginal * WEIGHT + (next || 0) * (1 - WEIGHT);\n\n\t\tweight[0] = weighted_avg(weight[0], w_alpha);\n\t\tweight[1] = weighted_avg(weight[1], w_beta);\n\t\tweight[2] = weighted_avg(weight[2], w_theta);\n\t\tweight[3] = weighted_avg(weight[3], w_delta);\n\t\tweight[4] = weighted_avg(weight[4], w_gamma);\n\t\tweight[5] = weighted_avg(weight[5], w_engagement);\n\n\t\talpha.set(Math.max(weight[0], 0));\n\t\tbeta.set(Math.max(weight[1], 0));\n\t\ttheta.set(Math.max(weight[2], 0));\n\t\tdelta.set(Math.max(weight[3], 0));\n\t\tgamma.set(Math.max(weight[4], 0));\n\t\tengagement.set(Math.max(weight[5], 0));\n\t},\n\tstatusHandler: (status: TelemetryData) => {\n\t\tbattery.set(status.batteryLevel);\n\t\ttemperature.set(status.temperature);\n\t}\n});\n\n/**\n * Alpha Block\n *\n * A Blockly block that reports the current value of alpha.\n */\nexport let Alpha = new CustomBlock(\"Alpha\", {\n\tmessage0: locale.bci.alpha,\n\targs0: [],\n\toutput: \"Number\",\n\tcolour: \"%{BKY_BCI_HUE}\",\n\ttooltip: locale.bci.tooltip,\n\thelpUrl: \"http://www.w3schools.com/jsref/jsref_length_string.asp\"\n}, (block: Blockly.Block): (string | number)[] => {\n\treturn [alpha.toGetterBinding(), Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * Beta Block\n *\n * A blockly block that reports the current value of beta.\n */\nexport let Beta = new CustomBlock(\"Beta\", {\n\tmessage0: locale.bci.beta,\n\targs0: [],\n\toutput: \"Number\",\n\tcolour: \"%{BKY_BCI_HUE}\",\n\ttooltip: locale.bci.tooltip,\n\thelpUrl: \"http://www.w3schools.com/jsref/jsref_length_string.asp\"\n}, (block: Blockly.Block): (string | number)[] => {\n\treturn [beta.toGetterBinding(), Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * Theta Block\n *\n * A blockly block that reports the current value of theta.\n */\nexport let Theta = new CustomBlock(\"Theta\", {\n\tmessage0: locale.bci.theta,\n\targs0: [],\n\toutput: \"Number\",\n\tcolour: \"%{BKY_BCI_HUE}\",\n\ttooltip: locale.bci.tooltip,\n\thelpUrl: \"http://www.w3schools.com/jsref/jsref_length_string.asp\"\n}, (block: Blockly.Block): (string | number)[] => {\n\treturn [theta.toGetterBinding(), Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * Delta Block\n *\n * A blockly block that reports the current value of delta.\n */\nexport let Delta = new CustomBlock(\"Delta\", {\n\tmessage0: locale.bci.delta,\n\targs0: [],\n\toutput: \"Number\",\n\tcolour: \"%{BKY_BCI_HUE}\",\n\ttooltip: locale.bci.tooltip,\n\thelpUrl: \"http://www.w3schools.com/jsref/jsref_length_string.asp\"\n}, (block: Blockly.Block): (string | number)[] => {\n\treturn [delta.toGetterBinding(), Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * Gamma Block\n *\n * A blockly block that reports the current value of gamma.\n */\nexport let Gamma = new CustomBlock(\"Gamma\", {\n\tmessage0: locale.bci.gamma,\n\targs0: [],\n\toutput: \"Number\",\n\tcolour: \"%{BKY_BCI_HUE}\",\n\ttooltip: locale.bci.tooltip,\n\thelpUrl: \"http://www.w3schools.com/jsref/jsref_length_string.asp\"\n}, (block: Blockly.Block): (string | number)[] => {\n\treturn [gamma.toGetterBinding(), Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * Engagement Block\n *\n * A blockly block that reports the current value of engagement, as defined by `beta / (alpha + theta)`.\n */\nexport let Engagement = new CustomBlock(\"Engagement\", {\n\tmessage0: locale.bci.engagement,\n\targs0: [],\n\toutput: \"Number\",\n\tcolour: \"%{BKY_BCI_HUE}\",\n\ttooltip: locale.bci.tooltip,\n\thelpUrl: \"http://www.w3schools.com/jsref/jsref_length_string.asp\"\n}, (block: Blockly.Block): (string | number)[] => {\n\treturn [engagement.toGetterBinding(), Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * BCI Blockly Category\n *\n * Creates a Blockly Category with the specified title.\n *\n * @param title The title to use in the flyout menu in Blockly.\n */\nexport let BCICategory = (title: string): Category => {\n\treturn {\n\t\tname: title,\n\t\t// FIXME: Figure out why %{Blockly.Msg.BCI_HUE} doesn't work here\n\t\tcolour: Blockly.Msg.BCI_HUE,\n\n\t\tmodules: [Alpha.name, Beta.name, Theta.name, Delta.name, Gamma.name, Engagement.name]\n\t};\n};\n","import { CustomBlock } from \"../Utility/CustomBlock\";\nimport { Button, Label, unwind } from \"../Utility/Toolbox\";\nimport { WindowDeclaration, WindowManager } from \"../Utility/WindowManager\";\nimport * as i18n from \"../i18n/i18n\";\n\nimport config from \"../config\";\nimport { Category } from \"../Utility/Toolbox\";\nimport { Data } from \"rete/types/core/data\";\n\nimport ReteEditor from \"../ReteEditor\";\nimport components from '../components'; // FIXME: How do we do lazy loading?\n\nlet locale = i18n.set_locale(config.LOCALE);\n\n// Set the color for blockly\nBlockly.Msg.FLOW_HUE = 140;\n\n/**\n * Flow Window Item\n *\n * The structure of a flow item stored in the window.\n */\nexport interface flow_window_item {\n\tname: string,\n\tdata: string\n}\n\n/**\n * Flow Block Data\n *\n * The structure of the data stored in a flow block. Here, editor is the JSON representation\n * of the Rete editor's components.\n */\nexport interface flow_block_data {\n\tname: string,\n\teditor: Data\n}\n\n/**\n * Flow Window Type\n *\n * The type of the value stored in the window which keeps track of all currently loaded flow\n * blocks.\n */\nexport type flow_window_type = Blockly.dictionary<flow_window_item>;\n\n/**\n * Flow Window List\n *\n * The handle to the currently loaded flow blocks.\n */\nexport let flow_window_list = WindowManager.declare(\"flow_list\", {});\n\n/**\n * Flow Final Result\n *\n * The handle to the output values of the various flow blocks currently loaded. The key\n * to these values is the name of the editor itself.\n */\nexport let flow_final_result = WindowManager.declare(\"blockly_final\", {});\n\n/**\n * Flow Graph Data\n *\n * The handle to the data displayed on the main graph. Accessible to flow component workers.\n *\n * @example\n * In order to access the graph from within a flow component, do something similar to the following\n * within the worker of the {@link component_schema}. Make sure to list {@link WindowManager}\n * as a dependency!\n *\n * ```ts\n * let component = {\n *     dependencies: [{\n *         names: [\"WindowManager\", \"WindowDeclaration\"],\n *         path: \"../Utility/WindowManager\"\n *     }],\n *\n *     worker: `\n *         let data: Array<number> = ...; // Whatever it may be...\n *         let graph = WindowManager.fetch(\"flow_data\");\n *         graph.set(data);\n *     `\n * };\n * ```\n */\nexport let flow_data = WindowManager.declare(\"flow_data\", []);\n\n/**\n * Flow Block\n *\n * A Blockly custom block used for flow applications.\n */\nexport interface flow_block extends Blockly.Block {\n\teditor_?: ReteEditor,\n\tcontainer_?: SVGElement\n};\n\n\n/**\n * Add Flow Block\n *\n * Creates a new unique flow block with the specified name. Each block also stores a {@link ReteEditor} and\n * the container used for showing the Rete components.\n *\n * @param name The name of the flow block shown on the created blockly block. Cannot have spaces.\n */\nexport let AddFlowBlock = (name: string) => {\n\tlet editor_name = `${name}_editor@0.0.1`;\n\n\t// Create the block\n\tlet block = new CustomBlock(`flow_block_${name}`, {\n\t\tmessage0: `${name} (Flow)`,\n\t\targs0: [],\n\t\toutput: \"Number\",\n\t\tcolour: \"%{BKY_FLOW_HUE}\",\n\t\ttooltip: locale.flow.tooltip,\n\t\tmutator: \"flow_mutator\",\n\t\thelpUrl: \"http://www.w3schools.com/jsref/jsref_length_string.asp\"\n\t}, (b: Blockly.Block) => {\n\t\tlet result = flow_final_result.get();\n\n\t\t// Make sure that there is an output for this editor\n\t\tif (result[editor_name] == undefined) {\n\t\t\treturn [\"''\", Blockly.JavaScript.ORDER_MEMBER];\n\t\t}\n\n\t\treturn [JSON.stringify(result[editor_name]), Blockly.JavaScript.ORDER_MEMBER];\n\t});\n\n\t// Create a container for the editor\n\tlet container = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n\tlet fo = document.createElementNS(\"http://www.w3.org/2000/svg\", \"foreignObject\");\n\tfo.setAttribute(\"x\", \"0\");\n\tfo.setAttribute(\"y\", \"0\");\n\tfo.setAttribute(\"width\", \"100%\");\n\tfo.setAttribute(\"height\", \"100%\");\n\n\tlet rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n\trect.setAttribute(\"width\", \"100%\");\n\trect.setAttribute(\"height\", \"100%\");\n\trect.classList.add(\"blocklyMutatorBackground\");\n\n\tlet wrapper = document.createElement(\"div\");\n\twrapper.setAttribute(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\n\twrapper.style.width = \"100%\";\n\twrapper.style.height = \"100%\";\n\n\tlet flow_container = document.createElement(\"div\");\n\n\tlet button_template = document.querySelector(\"#rete_buttons\");\n\tlet buttons = document.importNode((<any>(button_template)).content, true);\n\n\t// Set up HTML chain\n\twrapper.appendChild(buttons);\n\twrapper.appendChild(flow_container);\n\tfo.appendChild(wrapper);\n\tcontainer.appendChild(rect);\n\tcontainer.appendChild(fo);\n\n\t// Create an editor\n\tlet editor = new ReteEditor(editor_name, flow_container);\n\n\t// Save them to the block\n\tlet inner_block: flow_block = block.block();\n\tinner_block.container_ = container;\n\tinner_block.editor_ = editor;\n\tinner_block.data = JSON.stringify({ name: name, editor: {} });\n\n\t// Save the editor and its serialization in the window\n\tlet ls = flow_window_list.get() as flow_window_type;\n\tls[name] = {\n\t\tname: name,\n\t\tdata: \"{}\"\n\t};\n\tflow_window_list.set(ls);\n\n\t// Add all of the components to the dropdown menu and register them with the engine / editor\n\tlet keys = Object.keys(components);\n\tfor (let i = 0; i != keys.length; ++i) {\n\t\tlet component = (<any>(components))[keys[i]];\n\t\tlet instance = new component();\n\t\teditor.register(instance);\n\n\t\tlet button_class = component.name;\n\t\tlet button_group = component.get_group();\n\t\tlet btn = wrapper.querySelector(`.${button_class}`) as HTMLButtonElement;\n\n\t\tbtn.onclick = async () => {\n\t\t\tlet node = await instance.createNode();\n\t\t\teditor.addNode(node);\n\t\t}\n\t}\n\n\t// Start the editor\n\teditor.start();\n\n\treturn block;\n}\n\n/**\n * Flow Blockly Category\n *\n * Creates a category for use in Blockly with the specified title.\n *\n * @param title The title to use in the flyout menu in Blockly.\n */\nexport let FlowCategory = (title: string): Category => {\n\treturn {\n\t\tname: title,\n\t\tcustom: \"FLOWS\",\n\n\t\tcolour: Blockly.Msg.FLOW_HUE,\n\t\tmodules: []\n\t};\n};\n\n/**\n * Flow Category Callback\n *\n * This is a callback that runs every time the category is opened in Blockly.\n * For more info, see\n * {@link https://developers.google.com/blockly/guides/configure/web/toolbox#dynamic_categories | the official Blockly docs}.\n *\n * @param ws The Blockly workspace to link to.\n */\nexport let FlowCategoryCallback = (ws: Blockly.Workspace): Array<Node> => {\n\tlet res: Array<Node> = [];\n\tlet fl = <flow_window_type>flow_window_list.get();\n\n\t// Always have a 'New Flow' button\n\tlet button_text = unwind([<Button>{text: locale.flow.add, callbackKey: \"add_flow\"}], true);\n\tlet button = Blockly.Xml.textToDom(button_text).firstChild;\n\n\tres.push(button);\n\n\t// Add the flow blocks, as needed\n\tlet keys = Object.keys(fl);\n\tfor (let i = 0; i != keys.length; ++i) {\n\t\tlet flow_text = unwind([`flow_block_${fl[keys[i]].name}`], true);\n\t\tlet flow = Blockly.Xml.textToDom(flow_text).firstChild;\n\n\t\tres.push(flow);\n\t}\n\n\treturn res;\n};\n\n/**\n * Flow Mutator\n *\n * This is a custom {@link https://developers.google.com/blockly/guides/create-custom-blocks/web/mutators | Blockly Mutator}\n * used in order to nest {@link ReteEditor.ReteEditor | Rete Editors} in blockly custom blocks. This is somewhat complicated,\n * as Blockly does not provide ample documentation on this. Based on the\n * {@link https://github.com/google/blockly/blob/master/core/mutator.js | stock Blockly mutator}.\n */\nexport class FlowMutator extends Blockly.Mutator {\n\t/**\n\t * Get Serialize\n\t *\n\t * Returns a the minimum options needed for linking a new Mutator with serialization to text (for saving).\n\t */\n\tstatic get_serialize(): Blockly.mixin_object {\n\t\treturn {\n\t\t\tmutationToDom: function () {\n\t\t\t\tlet container = document.createElement(\"flow_mutation\");\n\n\t\t\t\treturn container;\n\t\t\t},\n\n\t\t\tdomToMutation: function (e: XMLDocument) {\n\t\t\t\t//\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Constructor\n\t *\n\t * Does nothing but call the original mutator constructor.\n\t */\n\tconstructor() {\n\t\tsuper([]);\n\t}\n\n\t// Member methods\n\t/**\n\t * Draw Icon\n\t *\n\t * Draws the edit icon on flow blocks.\n\t *\n\t * @param group The parent element that should contain this icon.\n\t *\n\t * @internal\n\t */\n\tdrawIcon_(group: Element) {\n\t\t// Square with rounded corners.\n\t\tBlockly.utils.createSvgElement(\n\t\t\t'rect',\n\t\t\t{\n\t\t\t\t'class': 'blocklyIconShape',\n\t\t\t\t'rx': '4',\n\t\t\t\t'ry': '4',\n\t\t\t\t'height': '16',\n\t\t\t\t'width': '16'\n\t\t\t},\n\t\t\tgroup\n\t\t);\n\n\t\t// TODO: Change this to a flow icon\n\t\t// Gear teeth.\n\t\tBlockly.utils.createSvgElement('path',\n\t\t\t{\n\t\t\t\t'class': 'blocklyIconSymbol',\n\t\t\t\t'd': 'm4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,' +\n\t\t\t\t\t'0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,' +\n\t\t\t\t\t'-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,' +\n\t\t\t\t\t'-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,' +\n\t\t\t\t\t'-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 ' +\n\t\t\t\t\t'-0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,' +\n\t\t\t\t\t'0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z'\n\t\t\t},\n\t\t\tgroup);\n\n\t\t// TODO: Change this to flow icon\n\t\t// Axle hole.\n\t\tBlockly.utils.createSvgElement(\n\t\t\t'circle',\n\t\t\t{\n\t\t\t\t'class': 'blocklyIconShape',\n\t\t\t\t'r': '2.7',\n\t\t\t\t'cx': '8',\n\t\t\t\t'cy': '8'\n\t\t\t},\n\t\t\tgroup\n\t\t);\n\t};\n\n\t/**\n\t * Create Editor\n\t *\n\t * Creates the entire HTML layout that houses the ReteEditor. Generated layout looks as follows:\n\t *\n\t * ```html\n\t * <svg>\n\t *     <g>\n\t *         <rect>\n\t *             <!-- Background -->\n\t *         </rect>\n\t *         <foreignBody>\n\t *             <!-- The editor -->\n\t *         </foreignBody>\n\t *     </g>\n\t * </svg>\n\t * ```\n\t *\n\t * @internal\n\t */\n\tcreateEditor_() {\n\t\t// Create the overall container\n\t\tthis.svgDialog_ = Blockly.utils.createSvgElement(\n\t\t\t'svg',\n\t\t\t{\n\t\t\t\t'x': Blockly.Bubble.BORDER_WIDTH,\n\t\t\t\t'y': Blockly.Bubble.BORDER_WIDTH,\n\t\t\t\t\"xmlns\": \"http://www.w3.org/2000/svg\",\n\t\t\t\t\"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n\t\t\t\t\"xmlns:xhtml\": \"http://www.w3.org/1999/xhtml\"\n\t\t\t},\n\t\t\tnull\n\t\t);\n\n\t\t// -- Add the flow components --\n\t\t// Get the editor for this block\n\t\tlet block = this.block_ as flow_block;\n\t\tlet block_info = JSON.parse(block.data) as flow_block_data;\n\t\tlet name = block_info.name;\n\t\tlet ls = flow_window_list.get() as flow_window_type;\n\t\tlet info = ls[name];\n\n\t\t// Sanity check\n\t\tif (info == undefined)\n\t\t\tthrow \"INVALID FLOW BLOCK\";\n\n\t\t// Initialize RETE.js in this container\n\t\tlet editor = block.editor_;\n\t\tlet container = block.container_;\n\t\tif (block_info.editor.id != undefined)\n\t\t\teditor.get_editor().fromJSON(block_info.editor);\n\n\t\t// Add the flow area to the bubble\n\t\tthis.svgDialog_.appendChild(container);\n\t\treturn this.svgDialog_;\n\t};\n\n\t/**\n\t * Resize Bubble\n\t *\n\t * This is overloaded in order to make sure that the Rete Editor resizes as well. Most of\n\t * this is taken directly from the original mutator.js.\n\t *\n\t * @internal\n\t */\n\tresizeBubble_() {\n\t\tlet doubleBorderWidth = 2 * Blockly.Bubble.BORDER_WIDTH;\n\t\tlet workspaceSize = {\n\t\t\twidth: 1200,\n\t\t\theight: 400,\n\t\t\tx: 2, // FIXME: This is a total guess\n\t\t\ty: 2\n\t\t};\n\t\tlet width;\n\n\t\t// Flip for RTL users\n\t\tif (this.block_.RTL)\n\t\t\twidth = -workspaceSize.x;\n\t\telse\n\t\t\twidth = workspaceSize.width + workspaceSize.x;\n\n\t\tlet height = workspaceSize.height + doubleBorderWidth * 3;\n\t\twidth += doubleBorderWidth * 3;\n\n\t\t// Only resize if the size difference is significant.  Eliminates shuddering.\n\t\tif (Math.abs(this.workspaceWidth_ - width) > doubleBorderWidth ||\n\t\t\tMath.abs(this.workspaceHeight_ - height) > doubleBorderWidth) {\n\n\t\t\t// Record some layout information for getFlyoutMetrics_.\n\t\t\tthis.workspaceWidth_ = width;\n\t\t\tthis.workspaceHeight_ = height;\n\n\t\t\t// Resize the bubble.\n\t\t\tthis.bubble_.setBubbleSize(\n\t\t\t\twidth + doubleBorderWidth, height + doubleBorderWidth);\n\t\t\tthis.svgDialog_.setAttribute('width', String(this.workspaceWidth_));\n\t\t\tthis.svgDialog_.setAttribute('height', String(this.workspaceHeight_));\n\n\t\t\tlet container = this.svgDialog_.querySelector(\"div\");\n\t\t\tcontainer.setAttribute(\"x\", String(0));\n\t\t\tcontainer.setAttribute(\"y\", String(0));\n\t\t\tcontainer.style.width = String(this.workspaceWidth_);\n\t\t\tcontainer.style.height = String(this.workspaceHeight_);\n\t\t}\n\n\t\t// TODO: Fix this\n\t\tif (this.block_.RTL) {\n\t\t\t// Scroll the workspace to always left-align.\n\t\t\tlet translation = 'translate(' + this.workspaceWidth_ + ',0)';\n\t\t\t// this.workspace_.getCanvas().setAttribute('transform', translation);\n\t\t}\n\t}\n\n\t/**\n\t * Set Visible\n\t *\n\t * Set the visibility of the editor. This has been slightly edited from the original\n\t * in order to save the Rete Editor container. As such, this method will create the container\n\t * if it has not been yet created, and then toggle its `display`.\n\t *\n\t * Closing the editor will also trigger a save of the editor's state to the block.\n\t *\n\t * @param visible Should the editor be visible.\n\t */\n\tsetVisible(visible: boolean) {\n\t\t// If no change, do nothing\n\t\tif (visible == this.isVisible())\n\t\t\treturn;\n\n\t\t// Alert everything that a mutator has opened\n\t\tBlockly.Events.fire(\n\t\t\tnew Blockly.Events.Ui(this.block_, 'mutatorOpen', !visible, visible)\n\t\t);\n\n\t\tif (this.svgDialog_ == undefined) {\n\t\t\tlet container = this.createEditor_();\n\t\t}\n\n\t\t// If we should show, show...\n\t\tif (visible) {\n\t\t\tthis.svgDialog_.style.display = \"block\";\n\n\t\t\t// Create the bubble\n\t\t\tthis.bubble_ = new Blockly.Bubble(\n\t\t\t\t<Blockly.WorkspaceSvg>(<unknown>(this.block_.workspace)),\n\t\t\t\tthis.svgDialog_,\n\t\t\t\tthis.block_.svgPath_,\n\t\t\t\tthis.iconXY_,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\t// Expose this mutator's block's ID on its top-level SVG group.\n\t\t\tthis.bubble_.setSvgId(this.block_.id);\n\n\t\t\t// Draw\n\t\t\tthis.resizeBubble_();\n\t\t\tthis.updateColour();\n\n\t\t\t// Resize the display\n\t\t\tlet block = this.block_ as flow_block;\n\t\t\tblock.editor_.get_editor().view.resize();\n\t\t} else {\n\t\t\t// Save the last editor state for the next initialization\n\t\t\tlet block: flow_block = this.block_;\n\t\t\tlet data = JSON.parse(block.data) as flow_block_data;\n\t\t\tlet ls = flow_window_list.get() as flow_window_type;\n\t\t\tlet info = ls[data.name];\n\n\t\t\t// Convert editor back into a valid editor\n\t\t\tlet editor: ReteEditor = block.editor_;\n\t\t\tif (info == undefined || editor == undefined)\n\t\t\t\tthrow \"INVALID SERIALIZATION OF FLOW COMPONENT\";\n\n\t\t\tdata.editor = editor.get_editor().toJSON();\n\t\t\tthis.block_.data = JSON.stringify(data);\n\t\t\tinfo.data = this.block_.data;\n\n\t\t\tflow_window_list.set(ls);\n\n\t\t\t// Dispose of the bubble.\n\t\t\tthis.svgDialog_.style.display = \"block\";\n\t\t\tthis.bubble_.dispose();\n\t\t\tthis.bubble_ = null;\n\t\t\tthis.workspaceWidth_ = 0;\n\t\t\tthis.workspaceHeight_ = 0;\n\t\t}\n\t}\n\n\t// Icon overrides\n\t/**\n\t * Icon Click\n\t *\n\t * Method that runs when the edit icon is clicked.\n\t *\n\t * @internal\n\t */\n\ticonClick_(e: MouseEvent) {\n\t\tif (!this.block_.isInFlyout && !Blockly.utils.isRightButton(e)) {\n\t\t\tthis.setVisible(!this.isVisible());\n\t\t}\n\t};\n};","import { CustomBlock } from \"../Utility/CustomBlock\";\nimport { Label, unwind } from \"../Utility/Toolbox\";\nimport { Sprite, Point } from \"../Sprite\";\nimport { WindowDeclaration, WindowManager } from \"../Utility/WindowManager\";\nimport * as i18n from \"../i18n/i18n\";\n\nimport config from \"../config\";\nimport { Category } from \"../Utility/Toolbox\";\nimport { dictionary } from \"../Playground\";\nlet locale = i18n.set_locale(config.LOCALE);\n\n// Set the color for blockly\nBlockly.Msg.PLAYER_HUE = 10;\n\n/**\n * Player List Item\n *\n * The type of a player within the player list\n */\nexport type player_list_item = [\n\tstring, // name\n\tstring, // id\n\tPoint   // position\n];\n\n/**\n * Player List Type\n *\n * The type of the player list stored in the window.\n */\nexport type player_list_type = Array<player_list_item>;\n\n/**\n * Player Window List\n *\n * The list of currently active players, stored in the window.\n */\nexport let player_window_list = WindowManager.declare(\"player_list\", []);\n\n/**\n * Player Point\n *\n * A custom block that represents the X and Y position of a player.\n */\nexport let PlayerPoint = new CustomBlock(\"player_point\", {\n\tmessage0: \"X %1 Y %2\",\n\targs0: [\n\t\t{\n\t\t\ttype: \"input_value\",\n\t\t\tname: \"X\",\n\t\t\tcheck: \"Number\"\n\t\t},\n\t\t{\n\t\t\ttype: \"input_value\",\n\t\t\tname: \"Y\",\n\t\t\tcheck: \"Number\"\n\t\t}\n\t],\n\toutput: null,\n\tcolour: \"%{BKY_PLAYER_HUE}\"\n}, (b: Blockly.Block) => {\n\tlet x = Blockly.JavaScript.valueToCode(b, \"X\", Blockly.JavaScript.ORDER_ASSIGNMENT) || 0;\n\tlet y = Blockly.JavaScript.valueToCode(b, \"Y\", Blockly.JavaScript.ORDER_ASSIGNMENT) || 0;\n\n\treturn [\"{x: \" + x + \", y: \" + y + \"}\", Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * Player Get\n *\n * A custom block used for fetching the X or Y position of a player.\n */\nexport let PlayerGet = new CustomBlock(\"player_get\", (b: Blockly.Block) => {\n\tb.appendDummyInput(\"player_select\")\n\t\t.appendField(new Blockly.FieldDropdown((): (Blockly.field_options_type) => {\n\t\t\tlet res = <player_list_type>player_window_list.get();\n\n\t\t\treturn (res && res.length > 0 ? res : [[locale.player.none, \"PLAYER_NONE\"]]);\n\t\t}), \"PLAYER_OPTIONS\")\n\t\t.appendField(new Blockly.FieldDropdown((): (Blockly.field_options_type) => {\n\t\t\treturn [[\"X\", \"x\"], [\"Y\", \"y\"]];\n\t\t}), \"PLAYER_POSITION_TYPE\");\n\n\tb.setOutput(true);\n\tb.setColour(Blockly.Msg.PLAYER_HUE);\n}, (b: Blockly.Block) => {\n\tlet player_handle = b.getFieldValue(\"PLAYER_OPTIONS\") || \"''\";\n\tlet position_type = b.getFieldValue(\"PLAYER_POSITION_TYPE\");\n\tlet code = `JSON.parse(${WindowDeclaration.asGetterBinding(player_handle)}).${position_type}`;\n\n\treturn [code, Blockly.JavaScript.ORDER_MEMBER];\n});\n\n/**\n * Player Set\n *\n * A custom block used for setting the position of a player. Requires a {@link PlayerGet} block\n * as its input.\n */\nexport let PlayerSet = new CustomBlock(\"player_set\", (b: Blockly.Block) => {\n\tb.appendDummyInput(\"player_select\")\n\t\t.appendField(\"set\")\n\t\t.appendField(new Blockly.FieldDropdown(\n\t\t\t(): (Blockly.field_options_type) => {\n\t\t\t\tlet res = <player_list_type>player_window_list.get();\n\n\t\t\t\treturn (res && res.length > 0 ? res : [[locale.player.none, \"PLAYER_NONE\"]]);\n\t\t\t}\n\t\t), \"PLAYER_OPTIONS\");\n\n\t// Allow for a connection\n\tb.appendValueInput(\"player_new_value\").appendField(\"to\").setCheck(PlayerPoint.name);\n\n\t// Allow for connecting\n\tb.setNextStatement(true);\n\tb.setPreviousStatement(true);\n\n\tb.setColour(Blockly.Msg.PLAYER_HUE);\n}, (b: Blockly.Block) => {\n\tlet player_handle = b.getFieldValue(\"PLAYER_OPTIONS\") || \"''\";\n\n\t// Set new value to current value on no input\n\tlet new_value = Blockly.JavaScript.valueToCode(b, \"player_new_value\", Blockly.JavaScript.ORDER_NONE) ||\n\t\t\"JSON.parse(\" + WindowDeclaration.asGetterBinding(player_handle) + \")\";\n\n\treturn WindowDeclaration.asSetterBinding(player_handle) + \"JSON.stringify(\" + new_value + \"));\\n\";\n});\n\n/**\n * Player Collision Check\n *\n * A custom block used for setting the position of a player. Requires a {@link PlayerGet} block\n * as its input.\n */\nexport let PlayerCollidesWith = new CustomBlock(\"player_collides\", (b: Blockly.Block) => {\n\tb.appendDummyInput(\"player_lhs\")\n\t\t.appendField(new Blockly.FieldDropdown(\n\t\t\t(): (Blockly.field_options_type) => {\n\t\t\t\tlet res = <player_list_type>player_window_list.get();\n\n\t\t\t\treturn (res && res.length > 0 ? res : [[locale.player.none, \"PLAYER_NONE\"]]);\n\t\t\t}\n\t\t), \"PLAYER_LHS\")\n\t\t.appendField(\" collides with \")\n\t\t.appendField(new Blockly.FieldDropdown(\n\t\t\t(): (Blockly.field_options_type) => {\n\t\t\t\tlet res = <player_list_type>player_window_list.get();\n\n\t\t\t\treturn (res && res.length > 0 ? res : [[locale.player.none, \"PLAYER_NONE\"]]);\n\t\t\t}\n\t\t), \"PLAYER_RHS\");\n\n\t// Allow for connecting\n\tb.setOutput(true);\n\tb.setColour(Blockly.Msg.PLAYER_HUE);\n}, (b: Blockly.Block) => {\n\tlet player_lhs = b.getFieldValue(\"PLAYER_LHS\") || \"''\";\n\tlet player_rhs = b.getFieldValue(\"PLAYER_RHS\") || \"''\";\n\n\t// Short out if no player is selected\n\tif (player_lhs.length == 0 || player_rhs.length == 0 || player_lhs == \"PLAYER_NONE\" || player_rhs == \"PLAYER_NONE\")\n\t\treturn '';\n\n\t// if we are colliding with the same thing, always return true\n\tif (player_lhs == player_rhs)\n\t\treturn [\"true\", Blockly.JavaScript.ORDER_MEMBER];\n\n\t// Get the actual player coordinates\n\tconsole.log(\"PLAYER:\", player_lhs, player_rhs);\n\tlet players = <player_list_type>player_window_list.get();\n\tlet find_player = (id: string) => {\n\t\tfor (let i = 0; i != players.length; ++i) {\n\t\t\tconsole.log(players[i]);\n\t\t\tif (players[i][1] == id)\n\t\t\t\treturn players[i];\n\t\t}\n\n\t\tthrow \"PLAYER NOT FOUND: \" + name;\n\t};\n\tlet lhs = find_player(player_lhs)[2];\n\tlet rhs = find_player(player_rhs)[2];\n\n\t// Use bounding box for collision detection\n\tconst length = 0.2;\n\n\t// See MDN on Axis-Aligned Bounding Box\n\treturn [\n\t\t`${lhs.x} < ${rhs.x} + ${length} && ` +\n\t\t\t`${lhs.x} + ${length} > ${rhs.x} && ` +\n\t\t\t`${lhs.y} < ${rhs.y} + ${length} && ` +\n\t\t\t`${rhs.y} + ${length} > ${rhs.y}`,\n\t\tBlockly.JavaScript.ORDER_NONE\n\t];\n});\n\n/**\n * Player Blockly Category\n *\n * Creates a category for use in Blockly with the specified title.\n *\n * @param title The title to use in the flyout menu in Blockly.\n */\nexport let PlayerCategory = (title: string): Category => {\n\treturn {\n\t\tname: title,\n\t\tcustom: \"PLAYERS\",\n\n\t\tcolour: Blockly.Msg.PLAYER_HUE,\n\t\tmodules: []\n\t};\n};\n\n/**\n * Player Category Callback\n *\n * This is a callback that runs every time the category is opened in Blockly.\n * For more info, see\n * {@link https://developers.google.com/blockly/guides/configure/web/toolbox#dynamic_categories | the official Blockly docs}.\n *\n * @param ws The workspace to link to.\n */\nexport let PlayerCategoryCallback = (ws: Blockly.Workspace): Array<Node> => {\n\tlet res: Array<Node> = [];\n\tlet pl = <player_list_type>player_window_list.get();\n\n\t// Add blocks if players are available\n\tif (pl.length > 0) {\n\t\tres.push(Blockly.Xml.textToDom(unwind([PlayerGet.name], true)).firstChild);\n\t\tres.push(Blockly.Xml.textToDom(unwind([PlayerSet.name], true)).firstChild);\n\t\tres.push(Blockly.Xml.textToDom(unwind([PlayerCollidesWith.name], true)).firstChild);\n\t\tres.push(Blockly.Xml.textToDom(unwind([PlayerPoint.name], true)).firstChild);\n\t} else {\n\t\tres.push(Blockly.Xml.textToDom(unwind([<Label>{text: locale.help.no_players}], true)).firstChild);\n\t}\n\n\treturn res;\n};","\n// WARNING: This file is autogenerated. Please do not edit.\nimport Rete, { Component, Control } from \"rete\";\nimport SocketTypes from \"./socket.types\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\nimport * as bci from \"bcijs/browser\";\n\n\nlet template = document.querySelector(\"#CustomNode\").innerHTML;\n\nlet CustomSocket = {\n  template: `<div class=\"socket\" :class=\"[type, socket.name, used()?'used':''] | kebab\" :title=\"socket.name\"></div>`,\n\n  props: ['type', 'socket', 'used']\n};\n\nconst as_any: any = VueRenderPlugin;\nlet CustomNode = {\n  template,\n  mixins: [as_any.mixin],\n  methods: {\n    used(io: any) {\n      return io.connections.length;\n    }\n  },\n  components: {\n    Socket: /*VueRenderPlugin.Socket*/ CustomSocket\n  }\n};\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nexport interface component_data {\ncomponent: any;\ncontrols: dictionary<Control>;\n};\n\nexport default class averageBandPowerRangeComponent extends Component {\n  data: component_data = {\n    component: CustomNode,\n    controls: {}\n  };\n\n  constructor() {\n    super(\"Average Range Band Power\");\n  }\n\n  builder(node: any) {\n    let in0 = new Rete.Input(\"range_low\", \"Lower Range\", SocketTypes.Number, true);\n    let in1 = new Rete.Input(\"range_high\", \"Higher Range\", SocketTypes.Number, true);\n    let in2 = new Rete.Input(\"in1\", \"Data\", SocketTypes.Array, true);\n\n    let out0 = new Rete.Output(\"out1\", \"Average Band Power\", SocketTypes.Number, true);\n\n\n    // Add a way to access the controls by name\n\n    this.data.controls = {\n\n    }\n\n    return node\n      .addInput(in0)\n      .addInput(in1)\n      .addInput(in2)\n\n      .addOutput(out0);\n  }\n\n  worker(node: any, inputs: dictionary<Array<any>>, outputs: dictionary<any>) {\n    // Assert required inputs first\n    if (!(inputs[\"range_low\"].length && inputs[\"range_high\"].length && inputs[\"in1\"].length))\n      return;\n\n\n    let psd = bci.averageBandPowers(inputs['in1'][0], 220, [inputs[\"range_low\"][0], inputs[\"range_high\"][0]], undefined);\n    outputs['out1'] = psd[0];\n\n  }\n\n  static get_group() {\n    return \"BCI.JS\";\n  }\n}\n","\n// WARNING: This file is autogenerated. Please do not edit.\nimport Rete, { Component, Control } from \"rete\";\nimport SocketTypes from \"./socket.types\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\nimport { WindowDeclaration, WindowManager } from \"../Utility/WindowManager\";\n\n\nlet template = document.querySelector(\"#CustomNode\").innerHTML;\n\nlet CustomSocket = {\n  template: `<div class=\"socket\" :class=\"[type, socket.name, used()?'used':''] | kebab\" :title=\"socket.name\"></div>`,\n\n  props: ['type', 'socket', 'used']\n};\n\nconst as_any: any = VueRenderPlugin;\nlet CustomNode = {\n  template,\n  mixins: [as_any.mixin],\n  methods: {\n    used(io: any) {\n      return io.connections.length;\n    }\n  },\n  components: {\n    Socket: /*VueRenderPlugin.Socket*/ CustomSocket\n  }\n};\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nexport interface component_data {\ncomponent: any;\ncontrols: dictionary<Control>;\n};\n\nexport default class blocklyEndComponent extends Component {\n  data: component_data = {\n    component: CustomNode,\n    controls: {}\n  };\n\n  constructor() {\n    super(\"Output\");\n  }\n\n  builder(node: any) {\n    let in0 = new Rete.Input(\"blockly_end\", \"End!\", SocketTypes.Any, false);\n\n\n\n    // Add a way to access the controls by name\n\n    this.data.controls = {\n\n    }\n\n    return node\n      .addInput(in0);\n  }\n\n  worker(node: any, inputs: dictionary<Array<any>>, outputs: dictionary<any>) {\n    // Assert required inputs first\n    if (!(true))\n      return;\n\n\n    let name = this.editor.id;\n    let final = WindowManager.fetch(\"blockly_final\");\n    let as_any: any = final.get();\n\n    as_any[name] = inputs[\"blockly_end\"][0];\n    final.set(as_any);\n\n  }\n\n  static get_group() {\n    return \"BLOCKLY\";\n  }\n}\n","\n// WARNING: This file is autogenerated. Please do not edit.\nimport Rete, { Component, Control } from \"rete\";\nimport SocketTypes from \"./socket.types\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\n\nimport NumberControl from \"../Controls/Number.control\";\nimport ArrayControl from \"../Controls/Array.control\";\n\nlet template = document.querySelector(\"#CustomNode\").innerHTML;\n\nlet CustomSocket = {\n  template: `<div class=\"socket\" :class=\"[type, socket.name, used()?'used':''] | kebab\" :title=\"socket.name\"></div>`,\n\n  props: ['type', 'socket', 'used']\n};\n\nconst as_any: any = VueRenderPlugin;\nlet CustomNode = {\n  template,\n  mixins: [as_any.mixin],\n  methods: {\n    used(io: any) {\n      return io.connections.length;\n    }\n  },\n  components: {\n    Socket: /*VueRenderPlugin.Socket*/ CustomSocket\n  }\n};\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nexport interface component_data {\ncomponent: any;\ncontrols: dictionary<Control>;\n};\n\nexport default class bufferComponent extends Component {\n  data: component_data = {\n    component: CustomNode,\n    controls: {}\n  };\n\n  constructor() {\n    super(\"Buffer\");\n  }\n\n  builder(node: any) {\n    let in0 = new Rete.Input(\"num_in\", \"Number In\", SocketTypes.Number, true);\n\n    let out0 = new Rete.Output(\"arr_out\", \"Buffer Out\", SocketTypes.Array, true);\n\n\n    // Add a way to access the controls by name\n    const Controlb_size = new NumberControl(this.editor, \"b_size\")\n    const Controlarr = new ArrayControl(this.editor, \"arr\")\n\n    this.data.controls = {\n      b_size: Controlb_size,\n      arr: Controlarr\n    }\n\n    return node\n      .addInput(in0)\n\n      .addOutput(out0)\n\n      .addControl(Controlb_size)\n      .addControl(Controlarr);\n  }\n\n  worker(node: any, inputs: dictionary<Array<any>>, outputs: dictionary<any>) {\n    // Assert required inputs first\n    if (!(inputs[\"num_in\"].length))\n      return;\n\n\n    let control: any = this.data.controls[\"arr\"];\n    let array_control: ArrayControl = control;\n\n    array_control.push_sample(inputs[\"num_in\"]);\n    outputs['arr_out'] = node.data.arr.buffer;\n\n  }\n\n  static get_group() {\n    return \"VARIABLE\";\n  }\n}\n","\n// WARNING: This file is autogenerated. Please do not edit.\nimport Rete, { Component, Control } from \"rete\";\nimport SocketTypes from \"./socket.types\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\n\nimport StringControl from \"../Controls/String.control\";\n\nlet template = document.querySelector(\"#OperatorNode\").innerHTML;\n\nlet CustomSocket = {\n  template: `<div class=\"socket\" :class=\"[type, socket.name, used()?'used':''] | kebab\" :title=\"socket.name\"></div>`,\n\n  props: ['type', 'socket', 'used']\n};\n\nconst as_any: any = VueRenderPlugin;\nlet CustomNode = {\n  template,\n  mixins: [as_any.mixin],\n  methods: {\n    used(io: any) {\n      return io.connections.length;\n    }\n  },\n  components: {\n    Socket: /*VueRenderPlugin.Socket*/ CustomSocket\n  }\n};\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nexport interface component_data {\ncomponent: any;\ncontrols: dictionary<Control>;\n};\n\nexport default class displayComponent extends Component {\n  data: component_data = {\n    component: CustomNode,\n    controls: {}\n  };\n\n  constructor() {\n    super(\"Print String\");\n  }\n\n  builder(node: any) {\n    let in0 = new Rete.Input(\"any_in\", \"Any\", SocketTypes.Any, true);\n\n\n\n    // Add a way to access the controls by name\n    const Controlstr = new StringControl(this.editor, \"str\")\n\n    this.data.controls = {\n      str: Controlstr\n    }\n\n    return node\n      .addInput(in0)\n\n\n      .addControl(Controlstr);\n  }\n\n  worker(node: any, inputs: dictionary<Array<any>>, outputs: dictionary<any>) {\n    // Assert required inputs first\n    if (!(inputs[\"any_in\"].length))\n      return;\n\n\n    let as_string = JSON.stringify(inputs[\"any_in\"].length == 1 ? inputs[\"any_in\"][0] : inputs[\"any_in\"]) || \"undefined\";\n    let control: any = this.data.controls[\"str\"];\n    let str_control: StringControl = control;\n\n    str_control.setValue(as_string);\n\n  }\n\n  static get_group() {\n    return \"PRINT\";\n  }\n}\n","\n// WARNING: This file is autogenerated. Please do not edit.\nimport Rete, { Component, Control } from \"rete\";\nimport SocketTypes from \"./socket.types\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\nimport { WindowDeclaration, WindowManager } from \"../Utility/WindowManager\";\n\n\nlet template = document.querySelector(\"#CustomNode\").innerHTML;\n\nlet CustomSocket = {\n  template: `<div class=\"socket\" :class=\"[type, socket.name, used()?'used':''] | kebab\" :title=\"socket.name\"></div>`,\n\n  props: ['type', 'socket', 'used']\n};\n\nconst as_any: any = VueRenderPlugin;\nlet CustomNode = {\n  template,\n  mixins: [as_any.mixin],\n  methods: {\n    used(io: any) {\n      return io.connections.length;\n    }\n  },\n  components: {\n    Socket: /*VueRenderPlugin.Socket*/ CustomSocket\n  }\n};\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nexport interface component_data {\ncomponent: any;\ncontrols: dictionary<Control>;\n};\n\nexport default class graphComponent extends Component {\n  data: component_data = {\n    component: CustomNode,\n    controls: {}\n  };\n\n  constructor() {\n    super(\"Plot Graph\");\n  }\n\n  builder(node: any) {\n    let in0 = new Rete.Input(\"data_in\", \"Array<Number>\", SocketTypes.Array, true);\n\n\n\n    // Add a way to access the controls by name\n\n    this.data.controls = {\n\n    }\n\n    return node\n      .addInput(in0);\n  }\n\n  worker(node: any, inputs: dictionary<Array<any>>, outputs: dictionary<any>) {\n    // Assert required inputs first\n    if (!(inputs[\"data_in\"].length))\n      return;\n\n\n    let save_to = WindowManager.fetch(\"flow_data\");\n    save_to.set(inputs[\"data_in\"][0]);\n\n  }\n\n  static get_group() {\n    return \"GRAPH\";\n  }\n}\n","\n// WARNING: This file is autogenerated. Please do not edit.\nimport Rete, { Component, Control } from \"rete\";\nimport SocketTypes from \"./socket.types\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\n\nimport NumberControl from \"../Controls/Number.control\";\n\nlet template = document.querySelector(\"#OperatorNode\").innerHTML;\n\nlet CustomSocket = {\n  template: `<div class=\"socket\" :class=\"[type, socket.name, used()?'used':''] | kebab\" :title=\"socket.name\"></div>`,\n\n  props: ['type', 'socket', 'used']\n};\n\nconst as_any: any = VueRenderPlugin;\nlet CustomNode = {\n  template,\n  mixins: [as_any.mixin],\n  methods: {\n    used(io: any) {\n      return io.connections.length;\n    }\n  },\n  components: {\n    Socket: /*VueRenderPlugin.Socket*/ CustomSocket\n  }\n};\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nexport interface component_data {\ncomponent: any;\ncontrols: dictionary<Control>;\n};\n\nexport default class numberComponent extends Component {\n  data: component_data = {\n    component: CustomNode,\n    controls: {}\n  };\n\n  constructor() {\n    super(\"Number\");\n  }\n\n  builder(node: any) {\n    let in0 = new Rete.Input(\"num_in\", \"Number\", SocketTypes.Number, true);\n\n    let out0 = new Rete.Output(\"num_out\", \"Number\", SocketTypes.Number, true);\n\n\n    // Add a way to access the controls by name\n    const Controlnum = new NumberControl(this.editor, \"num\")\n\n    this.data.controls = {\n      num: Controlnum\n    }\n\n    return node\n      .addInput(in0)\n\n      .addOutput(out0)\n\n      .addControl(Controlnum);\n  }\n\n  worker(node: any, inputs: dictionary<Array<any>>, outputs: dictionary<any>) {\n    // Assert required inputs first\n    if (!(true))\n      return;\n\n\n    let control: any = this.data.controls[\"num\"];\n    let num_control: NumberControl = control;\n\n    if (inputs.num_in.length && inputs.num_in[0] != undefined) {\n      node.data.num = inputs['num_in'][0];\n\n      // Update the control to show the input\n      num_control.setValue(node.data.num);\n    }\n\n    outputs['num_out'] = node.data.num;\n\n  }\n\n  static get_group() {\n    return \"VARIABLE\";\n  }\n}\n","\nimport Rete from \"rete\";\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nlet SocketTypes: dictionary<any> = {\n  Number: new Rete.Socket(\"Number\"),\n  Array: new Rete.Socket(\"Array\"),\n  String: new Rete.Socket(\"String\")\n};\n\n// Make an 'any' socket that accepts all types\nlet any_t = new Rete.Socket(\"Any\");\nlet keys = Object.keys(SocketTypes);\nfor (let i = 0; i != keys.length; ++i)\n  SocketTypes[keys[i]].combineWith(any_t);\n\nSocketTypes[\"Any\"] = any_t;\n\nexport default SocketTypes;\n","\n// WARNING: This file is autogenerated. Please do not edit.\nimport Rete, { Component, Control } from \"rete\";\nimport SocketTypes from \"./socket.types\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\n\nimport StringControl from \"../Controls/String.control\";\n\nlet template = document.querySelector(\"#OperatorNode\").innerHTML;\n\nlet CustomSocket = {\n  template: `<div class=\"socket\" :class=\"[type, socket.name, used()?'used':''] | kebab\" :title=\"socket.name\"></div>`,\n\n  props: ['type', 'socket', 'used']\n};\n\nconst as_any: any = VueRenderPlugin;\nlet CustomNode = {\n  template,\n  mixins: [as_any.mixin],\n  methods: {\n    used(io: any) {\n      return io.connections.length;\n    }\n  },\n  components: {\n    Socket: /*VueRenderPlugin.Socket*/ CustomSocket\n  }\n};\n\ninterface dictionary<T> {\n[key: string]: T\n};\n\nexport interface component_data {\ncomponent: any;\ncontrols: dictionary<Control>;\n};\n\nexport default class stringComponent extends Component {\n  data: component_data = {\n    component: CustomNode,\n    controls: {}\n  };\n\n  constructor() {\n    super(\"String\");\n  }\n\n  builder(node: any) {\n\n    let out0 = new Rete.Output(\"str_out\", \"String\", SocketTypes.String, true);\n\n\n    // Add a way to access the controls by name\n    const Controlstr = new StringControl(this.editor, \"str\")\n\n    this.data.controls = {\n      str: Controlstr\n    }\n\n    return node\n\n      .addOutput(out0)\n\n      .addControl(Controlstr);\n  }\n\n  worker(node: any, inputs: dictionary<Array<any>>, outputs: dictionary<any>) {\n    // Assert required inputs first\n    if (!(true))\n      return;\n\n\n    outputs['str_out'] = node.data.str;\n\n  }\n\n  static get_group() {\n    return \"VARIABLE\";\n  }\n}\n","const BUFFER_SIZE = 200;\n\nimport { Control } from \"rete\";\n\nconst VueArrayControl = {\n\tprops: ['readonly', 'emitter', 'ikey', 'getData', 'putData'],\n\n\tdata() {\n\t\treturn {\n\t\t\tbuffer: [0]\n\t\t}\n\t},\n\n\tmethods: {\n\t\tpush_sample(item: any) {\n\t\t\tif (this.buffer.length > BUFFER_SIZE)\n\t\t\t\tthis.buffer.shift();\n\n\t\t\tthis.buffer.push(item);\n\n\t\t\tif (this.buffer.length > BUFFER_SIZE)\n\t\t\t\tthis.update();\n\t\t},\n\n\t\tupdate() {\n\t\t\tthis.emitter.trigger('process');\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.buffer = this.getData(this.ikey);\n\t}\n}\n\nexport default class ArrayControl extends Control {\n\t// FIXME: Figure out what these hidden types are\n\tvueContext: any;\n\tcomponent: any;\n\tprops: any;\n\n\tconstructor(emitter: unknown, ikey: string, readonly: boolean = false) {\n\t\tsuper(ikey);\n\n\t\tthis.component = VueArrayControl;\n\t\tthis.props = { emitter, ikey, readonly };\n\t}\n\n\tpush_sample(val: any) {\n\t\tthis.vueContext.push_sample(val);\n\t}\n}\n","import { Control } from \"rete\";\n\nconst VueNumControl = {\n\tprops: ['readonly', 'emitter', 'ikey', 'getData', 'putData'],\n\ttemplate: '<input type=\"number\" :readonly=\"readonly\" :value=\"value\" @input=\"change($event)\" @dblclick.stop=\"\"/>',\n\n\tdata() {\n\t\treturn {\n\t\t\tvalue: 0,\n\t\t}\n\t},\n\n\tmethods: {\n\t\tchange(e: any) {\n\t\t\tthis.value = +e.target.value; // FIXME: why the unary plus?\n\t\t\tthis.update();\n\t\t},\n\n\t\tupdate() {\n\t\t\tif (this.ikey)\n\t\t\t\tthis.putData(this.ikey, this.value)\n\n\t\t\tthis.emitter.trigger('process');\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.value = this.getData(this.ikey);\n\t}\n}\n\n\nexport default class NumberControl extends Control {\n\tcomponent: any;\n\tprops: any;\n\tvueContext: any;\n\n\tconstructor(emitter: any, ikey: string, readonly: boolean = false) {\n\t\tsuper(ikey);\n\n\t\tthis.component = VueNumControl;\n\t\tthis.props = { emitter, ikey, readonly };\n\t}\n\n\tsetValue(val: any) {\n\t\tthis.vueContext.value = val;\n\t}\n}","import { Control } from \"rete\";\n\nconst VueNumControl = {\n\tprops: ['readonly', 'emitter', 'ikey', 'getData', 'putData'],\n\ttemplate: '<input type=\"text\" :readonly=\"readonly\" :value=\"value\" @input=\"change($event)\" @dblclick.stop=\"\"/>',\n\n\tdata() {\n\t\treturn {\n\t\t\tvalue: \"\",\n\t\t}\n\t},\n\n\tmethods: {\n\t\tchange(e: any) {\n\t\t\tthis.value = e.target.value;\n\t\t\tthis.update();\n\t\t},\n\n\t\tupdate() {\n\t\t\tif (this.ikey)\n\t\t\t\tthis.putData(this.ikey, this.value)\n\n\t\t\tthis.emitter.trigger('process');\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.value = this.getData(this.ikey);\n\t}\n}\n\n\nexport default class StringControl extends Control {\n\tcomponent: any;\n\tprops: any;\n\tvueContext: any;\n\n\tconstructor(emitter: any, ikey: string, readonly: boolean = false) {\n\t\tsuper(ikey);\n\n\t\tthis.component = VueNumControl;\n\t\tthis.props = { emitter, ikey, readonly };\n\t}\n\n\tsetValue(val: any) {\n\t\tthis.vueContext.value = val;\n\t}\n}","import { WindowManager } from \"./Utility/WindowManager\";\nimport { Sprite } from \"./Sprite\";\n\nexport interface dictionary<T> {\n\t[index: string]: T;\n}\n\nexport type load_callback = (sprite: Sprite) => void;\n\n/**\n * @interface ShaderBundle\n * \n * A simple shader bundle to contain the shaders in a program.\n */\nexport interface ShaderBundle {\n\tvertex: string[];\n\tfragment: string[];\n\n\tattributes?: string[];\n\tuniforms?: string[];\n}\n\n/**\n * @class Playground\n * \n * A simpole WebGL playground.\n */\nexport class Playground {\n\tgl: WebGLRenderingContext;\n\t\n\tprogram:    WebGLProgram;\n\tattributes: dictionary<number> = {};\n\tuniforms:   dictionary<WebGLUniformLocation> = {};\n\n\tsprite_quad_buffer: WebGLBuffer;\n\tsprite_quad_tex: WebGLBuffer;\n\n\t/**\n\t * @constructor\n\t * \n\t * Default constructor.\n\t * \n\t * @param {HTMLCanvasElement} element - The HTML canvas for rendering.\n\t * @param {ShaderBundle} [bundle] - A set of shaders to use instead of the defaults.\n\t * @throws {Error} Throws an error if the web browser does not allow for WebGL.\n\t */\n\tconstructor(element: HTMLCanvasElement, bundle?: ShaderBundle) {\n\t\tthis.gl = element.getContext(\"webgl\");\n\t\tif (!this.gl) {\n\t\t\tthrow new Error(\"Could not create a WebGL instance!\");\n\t\t}\n\n\t\t// Fix sizing\n\t\tthis.gl.canvas.width = this.gl.canvas.clientWidth;\n\t\tthis.gl.canvas.height = this.gl.canvas.clientHeight;\n\n\t\tthis.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\t\tthis.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n\t\t// Compile the shaders (custom)\n\t\tthis.program = this.gl.createProgram();\n\t\tif (bundle) {\n\t\t\t// Vertex shaders\n\t\t\tfor (let i = 0; i < bundle.vertex.length; ++i) {\n\t\t\t\tlet v = Shader.compile(this.gl, bundle.vertex[i], this.gl.VERTEX_SHADER);\n\t\t\t\tthis.gl.attachShader(this.program, v);\n\t\t\t}\n\n\t\t\t// Fragment shaders\n\t\t\tfor (let i = 0; i < bundle.vertex.length; ++i) {\n\t\t\t\tlet v = Shader.compile(this.gl, bundle.vertex[i], this.gl.FRAGMENT_SHADER);\n\t\t\t\tthis.gl.attachShader(this.program, v);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.gl.attachShader(this.program, Shader.compile(this.gl, Shader.default_vertex, this.gl.VERTEX_SHADER));\n\t\t\tthis.gl.attachShader(this.program, Shader.compile(this.gl, Shader.default_fragment, this.gl.FRAGMENT_SHADER));\n\t\t}\n\n\t\t// Link the program\n\t\tthis.gl.linkProgram(this.program);\n\t\tif (!this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS)) {\n\t\t\tthrow new Error('Unable to initialize the shader program: ' + this.gl.getProgramInfoLog(this.program));\n\t\t}\n\n\t\t// Get locations\n\t\tlet attribs, uniforms;\n\t\tif (bundle) {\n\t\t\tattribs  = bundle.attributes;\n\t\t\tuniforms = bundle.uniforms;\n\t\t} else {\n\t\t\tattribs  = Shader.default_attributes;\n\t\t\tuniforms = Shader.default_uniforms;\n\t\t}\n\n\t\t// Attributes\n\t\tfor (let attr of attribs) {\n\t\t\tthis.attributes[attr] = this.gl.getAttribLocation(this.program, attr);\n\t\t}\n\n\t\t// Uniforms\n\t\tfor (let uni of uniforms) {\n\t\t\tthis.uniforms[uni] = this.gl.getUniformLocation(this.program, uni);\n\t\t}\n\n\t\t// Fill the needed buffers\n\t\tthis.sprite_quad_buffer = this.gl.createBuffer();\n\t\tthis.sprite_quad_tex = this.gl.createBuffer();\n\n\t\t// Fill background\n\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.sprite_quad_buffer);\n\t\tthis.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n\t\t\t-1.0,  1.0,\n\t\t\t-1.0, -1.0,\n\t\t\t 1.0, -1.0,\n\t\t\t 1.0, -1.0,\n\t\t\t 1.0,  1.0,\n\t\t\t-1.0,  1.0\n\t\t]), this.gl.STATIC_DRAW);\n\n\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.sprite_quad_tex);\n\t\tthis.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n\t\t\t0.0, 0.0,\n\t\t\t0.0, 1.0,\n\t\t\t1.0, 1.0,\n\t\t\t1.0, 1.0,\n\t\t\t1.0, 0.0,\n\t\t\t0.0, 0.0\n\t\t]), this.gl.STATIC_DRAW);\n\t}\n\n\t/**\n\t * @function create_sprite\n\t * \n\t * @param {String} id - The unique identifier of the sprite.\n\t * @param {String} name - The name for the sprite.\n\t * @param {String} type - The type of sprite.\n\t * @param {String} path - The path to the image for the sprite.\n\t * @param {load_callback} cb - A callback to run after loading the sprite.\n\t * @returns {Sprite} - The newly created sprite.\n\t */\n\tcreate_sprite(id: string, name: string, type: string, path: string, cb: load_callback): Sprite {\n\t\tlet s = new Sprite(id, name, type);\n\t\tlet i = document.createElement(\"img\");\n\t\t\n\t\t// Allow for CORS images\n\t\ti.crossOrigin = \"anonymous\";\n\n\t\t// Load image data into the WebGL texture\n\t\ti.onload = () => {\n\t\t\tlet t = this.gl.createTexture();\n\t\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, t);\n\t\t\tthis.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, i);\n\n\t\t\tthis.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n\t\t\tthis.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n\t\t\tthis.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n\t\t\tthis.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n\t\t\tthis.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n\t\t\ts.set_texture(t);\n\t\t\tcb(s);\n\t\t};\n\n\t\t// Start the loading of the image\n\t\ti.src = WindowManager.origin() + \"/\" + path;\n\t\n\t\treturn s;\n\t}\n\n\t/**\n\t * @function draw\n\t * \n\t * Draws the given sprites in order.\n\t * \n\t * @param {Sprite[]} sprites - The sprites to draw.\n\t */\n\tdraw(sprites: Sprite[]): void {\n\t\tthis.gl.viewport(0, 0, this.gl.canvas.clientWidth, this.gl.canvas.clientHeight);\n\t\tthis.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\t\tthis.gl.enable(this.gl.CULL_FACE);\n\t\tthis.gl.enable(this.gl.BLEND);\n\n\t\tthis.gl.blendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n\n\t\tthis.gl.useProgram(this.program);\n\n\t\tfor (let index in sprites) {\n\t\t\tlet sprite = sprites[index];\n\n\t\t\t// Bind the texture\n\t\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, sprite.get_texture());\n\n\t\t\t// Set the scale\n\t\t\tlet scale = sprite.get_scale();\n\t\t\tthis.gl.uniform2f(this.uniforms[\"uScale\"], scale.x, scale.y);\n\n\t\t\t// Set the position\n\t\t\tlet pos = sprite.get_position();\n\t\t\tthis.gl.uniform2f(this.uniforms[\"uOffset\"], pos.x, pos.y);\n\n\t\t\t// Draw the coordinates\n\t\t\tthis.gl.enableVertexAttribArray(this.attributes[\"aVertexPosition\"]);\n\t\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.sprite_quad_buffer);\n\t\t\tthis.gl.vertexAttribPointer(this.attributes[\"aVertexPosition\"],\n\t\t\t\t2,             // size\n\t\t\t\tthis.gl.FLOAT, // type\n\t\t\t\tfalse,         // normalize\n\t\t\t\t0,             // stride\n\t\t\t\t0              // offset\n\t\t\t);\n\n\t\t\t// Draw the texture\n\t\t\tthis.gl.enableVertexAttribArray(this.attributes[\"aTextureCoordinate\"]);\n\t\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.sprite_quad_tex);\n\t\t\tthis.gl.vertexAttribPointer(this.attributes[\"aTextureCoordinate\"],\n\t\t\t\t2,\n\t\t\t\tthis.gl.FLOAT,\n\t\t\t\tfalse,\n\t\t\t\t0,\n\t\t\t\t0\n\t\t\t);\n\n\t\t\t// Actually draw\n\t\t\tthis.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n\t\t}\n\t}\n}\n\nexport namespace Shader {\n\texport const default_attributes: string[] = [\n\t\t\"aVertexPosition\",\n\t\t\"aTextureCoordinate\"\n\t];\n\n\texport const default_uniforms: string[] = [\n\t\t\"uOffset\",\n\t\t\"uScale\",\n\t\t\"uTexture\"\n\t];\n\n\texport const default_vertex = `\n\t\tattribute vec2 aVertexPosition;\n\t\tattribute vec2 aTextureCoordinate;\n\n\t\tuniform vec2 uScale;\n\t\tuniform vec2 uOffset;\n\n\t\tvarying vec2 TexCoord0;\n\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(aVertexPosition[0] * uScale[0] + uOffset[0], aVertexPosition[1] * uScale[1] + uOffset[1], 0.0, 1.0);\n\t\t\tTexCoord0 = aTextureCoordinate;\n\t\t}\n\t`;\n\n\texport const default_fragment = `\n\t\tprecision mediump float;\n\n\t\tuniform sampler2D uTexture;\n\t\tvarying vec2 TexCoord0;\n\n\t\tvoid main() {\n\t\t\t//gl_FragColor = vec4(TexCoord0, 0.0, 1.0);\n\t\t\tgl_FragColor = texture2D(uTexture, TexCoord0);\n\t\t}\n\t`;\n\n\texport function compile(gl: WebGLRenderingContext, code: string, type: number): WebGLShader {\n\t\tlet sha = gl.createShader(type);\n\t\t\n\t\tgl.shaderSource(sha, code);\n\t\tgl.compileShader(sha);\n\n\t\tif (!gl.getShaderParameter(sha, gl.COMPILE_STATUS)) {\n\t\t\tlet msg = \"Could not compile shader: \" + gl.getShaderInfoLog(sha);\n\t\t\t\n\t\t\tgl.deleteShader(sha);\n\t\t\tthrow new Error(msg);\n\t\t}\n\n\t\treturn sha;\n\t}\n}","import \"regenerator-runtime/runtime\";\n\n/* Wrapper for creating and handling Rete.js Editor*/\nimport Rete, { NodeEditor, Engine, Component, Node } from \"rete\";\n\n// Plugins\nimport AreaPlugin from \"rete-area-plugin\";\nimport CommentPlugin from \"rete-comment-plugin\";\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\nimport HistoryPlugin from \"rete-history-plugin\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\n\nexport default class ReteEditor {\n\tprivate raw_editor: NodeEditor;\n\tprivate raw_engine: Engine;\n\n\tconstructor(name = \"rete-editor@0.0.1\", container?: string | HTMLElement) {\n\t\tlet cont: HTMLElement;\n\n\t\tif (typeof container == \"string\")\n\t\t\tcont = document.querySelector<HTMLElement>(container);\n\t\telse\n\t\t\tcont = container;\n\n\t\tthis.raw_editor = new Rete.NodeEditor(name, cont);\n\t\tthis.raw_editor.use(AreaPlugin);\n\t\tthis.raw_editor.use(CommentPlugin);\n\t\tthis.raw_editor.use(ConnectionPlugin);\n\t\tthis.raw_editor.use(ContextMenuPlugin);\n\t\tthis.raw_editor.use(HistoryPlugin);\n\t\tthis.raw_editor.use(VueRenderPlugin);\n\n\t\tthis.raw_engine = new Rete.Engine(name);\n\t}\n\n\taddNode(node: Node) {\n\t\tthis.raw_editor.addNode(node);\n\t}\n\n\tclear() {\n\t\tthis.raw_editor.clear();\n\t}\n\n\tregister(component: Component) {\n\t\tthis.raw_editor.register(component);\n\t\tthis.raw_engine.register(component);\n\t}\n\n\tstart(events = \"process nodecreated noderemoved connectioncreated connectionremoved\") {\n\t\t// FIXME: Does not like events (even though tutorial says to use it this way)\n\t\tthis.raw_editor.on(<any>events, async () => {\n\t\t\tawait this.raw_engine.abort();\n\t\t\tawait this.raw_engine.process(this.raw_editor.toJSON());\n\t\t});\n\n\t\tthis.raw_editor.view.resize();\n\t\tAreaPlugin.zoomAt(this.raw_editor);\n\t\tthis.raw_editor.trigger(\"process\");\n\t}\n\n\tdestroy() {\n\t\tthis.raw_editor.destroy();\n\t\tthis.raw_engine.destroy();\n\n\t\tthis.raw_editor = undefined;\n\t\tthis.raw_engine = undefined;\n\t}\n\n\tget_editor() {\n\t\treturn this.raw_editor;\n\t}\n\n\tget_engine() {\n\t\treturn this.raw_engine;\n\t}\n}\n","import { WindowDeclaration, WindowManager } from \"./Utility/WindowManager\";\n\nexport interface Point {\n\tx: number;\n\ty: number;\n}\n\n/**\n * @class Sprite\n *\n * A sprite which has a position and an image. Sprite positions are exposed to the window for use\n * with Blockly.\n */\nexport class Sprite {\n\tid: string;\n\tname: string;\n\ttype: string;\n\n\ttexture: WebGLTexture;\n\tscale: Point;\n\n\tbinding: WindowDeclaration;\n\n\t/**\n\t * @constructor\n\t *\n\t * Default constructor.\n\t *\n\t * @param {string} id - The unique identifier of the sprite.\n\t * @param {string} name - The name of the sprite.\n\t * @param {string} type - The type of the sprite.\n\t * @param {string} depth - The Z depth\n\t *\n\t * @throws {Error} Throws an error if the sprite name is not unique.\n\t */\n\tconstructor(id: string, name: string, type: string) {\n\t\tthis.id = id;\n\t\tthis.name = name;\n\t\tthis.type = type;\n\t\tthis.scale = {x: 1, y: 1};\n\n\t\tthis.binding = WindowManager.declare(id, <Point>{x: 0, y: 0});\n\t}\n\n\t/**\n\t * @function delete\n\t *\n\t * Deletes a sprite and its bindings to the window.\n\t */\n\tdelete(): void {\n\t\tthis.id = undefined;\n\n\t\tthis.delete_texture();\n\t\tthis.binding.delete();\n\t}\n\n\tget_position(): Point {\n\t\treturn this.binding.get();\n\t}\n\n\tget_scale(): Point {\n\t\treturn this.scale;\n\t}\n\n\tget_texture(): WebGLTexture {\n\t\treturn this.texture;\n\t}\n\n\tset_position(p: Point): void {\n\t\tthis.binding.set(p);\n\t}\n\n\tset_texture(texture: WebGLTexture): void {\n\t\tthis.texture = texture;\n\t}\n\n\tdelete_texture(): void {\n\t\tdelete this.texture;\n\t}\n\n\tset_scale(p: Point): void {\n\t\tthis.scale = p;\n\t}\n}","/**\n * CustomBlock\n *\n *\n * A simple class for managing custom blocks in blockly. See\n * {@link https://developers.google.com/blockly/guides/configure/web/custom-blocks | here} for info on using either\n * JSON or JavaScript to define a custom block (or check out the example blocks defined in `src/Blocks`).\n *\n * @todo Add support for implicitly casting to string for use in modules\n *\n * @example\n * Using the JSON interface.\n * ```ts\n * Blockly.Msg.SOME_HUE = 180; // This is hue from HSV\n * let custom = new CustomBlock(\"example\", {\n *     message0: \"cool block\",\n *     args0: [],\n *     output: \"String\",\n *     colour: \"%{BKY_SOME_HUE}\",\n *     tooltip: \"Thanks for hovering!\",\n *     helpUrl: \"some/help/url\"\n * }, (block: Blockly.Block): (string | number)[] => {\n *     let example_code = \"JSON.stringify({ hello, \\\"world\\\" })\";\n *     return [example_code, Blockly.JavaScript.ORDER_MEMBER];\n * });\n * ```\n *\n * @example\n * Using the JavaScript interface.\n * ```ts\n * Blockly.Msg.EXAMPLE_HUE = 230; // This is hue from HSV\n * let custom = new CustomBlock(\"example_block\", (b: Blockly.Block) => {\n *     b.appendDummyInput(\"example_input\")\n *         .appendField(\"set\");\n *\n *     // Allow for connecting\n *     b.setNextStatement(true);\n *     b.setPreviousStatement(true);\n *\n *     b.setColour(Blockly.Msg.EXAMPLE_HUE);\n * };\n * ```\n */\nexport class CustomBlock {\n\tname: string;\n\n\t// Since blockly does not add a way to set a statement suffix...\n\tsuffix: string;\n\n\t/**\n\t * Dispose\n\t *\n\t * Destroys a custom block created by this class.\n\t *\n\t * @param name The unique name of the block to dispose. Same as the name specified on creation.\n\t * @param healStack Whether or not to attempt to heal holes caused by deleting the block.\n\t */\n\tstatic dispose(name: string, healStack: boolean) {\n\t\tif (Blockly.Blocks[name].dispose)\n\t\t\tBlockly.Blocks[name].dispose(healStack);\n\t\tdelete Blockly.Blocks[name];\n\n\t\tlet unsafe = (Blockly.JavaScript as any) as Blockly.dictionary<Blockly.generator_type>;\n\t\tdelete unsafe[name];\n\t}\n\n\t/**\n\t * Constructor\n\t *\n\t * Creates a new Custom blockly block. Fails if the requested name for the new\n\t * block is already in use.\n\t *\n\t * @param name The name to label the block.\n\t * @param def The definition information for the block.\n\t * @param generator The generator for the block.\n\t * @param suffix A command to run after execution of this custom block.\n\t */\n\tconstructor(name: string, def: (Blockly.block_def | ((block: Blockly.Block) => void)), generator: Blockly.generator_type, suffix?: string) {\n\t\tif (name in Blockly.Blocks)\n\t\t\tthrow new Error(\"Requested Block name is already in use: \" + name);\n\n\t\tthis.name = name;\n\t\tthis.suffix = suffix;\n\t\tBlockly.Blocks[name] = {\n\t\t\tinit: function() {\n\t\t\t\tif ((<Blockly.block_def>def).message0) {\n\t\t\t\t\tthis.jsonInit(def);\n\t\t\t\t} else {\n\t\t\t\t\t(<(b: Blockly.Block) => void>def)(<Blockly.Block>this);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Need to do this unsafe cast since JavaScript is both a map and a class...\n\t\tlet unsafe = (Blockly.JavaScript as any) as Blockly.dictionary<Blockly.generator_type>;\n\t\tif (name in unsafe)\n\t\t\tthrow new Error(\"Specified generator already defined: \" + name);\n\n\t\t// Create the generator\n\t\tunsafe[name] = <Blockly.generator_type>((b) => {\n\t\t\tlet r = generator(b);\n\n\t\t\tif (this.suffix) {\n\t\t\t\tif (r instanceof Array)\n\t\t\t\t\tr[0] += this.suffix;\n\t\t\t\telse\n\t\t\t\t\tr += this.suffix;\n\t\t\t}\n\n\t\t\treturn r;\n\t\t});\n\t}\n\n\t/**\n\t * block\n\t *\n\t * Returns the Blockly block representation of this custom block\n\t *\n\t * @return The block as a Blockly block\n\t */\n\tblock(): Blockly.Block {\n\t\treturn Blockly.Blocks[this.name];\n\t}\n\n\t/**\n\t * Suffix\n\t *\n\t * Blockly allows for an official way to add a pre-command before execution of a block. It does not\n\t * allow for running a post-command, so this is an attempt to add one.\n\t *\n\t * @param suffix A custom command to run after execution of this block.\n\t */\n\tset_suffix(suffix: string): void {\n\t\tthis.suffix = suffix;\n\t}\n\n\t/**\n\t * Dispose\n\t *\n\t * Destroys a custom block.\n\t *\n\t * @param healStack Whether or not to attempt to heal holes caused by deleting the block.\n\t */\n\tdispose(healStack: boolean): void {\n\t\tthis.block().dispose(healStack);\n\t}\n}","//-----------------------------------------------------\n// Exported members\n//-----------------------------------------------------\n\nexport type module_type = (string | Category | Label | Button | Separator)[];\n\n/**\n * @interface Label\n *\n * A simple label for Blockly.\n */\nexport interface Label {\n\ttext: string;\n}\n\n/**\n * @interface Seperator\n *\n * A simple separator.\n */\nexport interface Separator {\n\tgap: number;\n}\n\n/**\n * @interface Button\n *\n * A simple button for Blockly.\n */\nexport interface Button {\n\ttext: string;\n\tcallbackKey: string;\n}\n\n/**\n * @interface Category\n *\n * A {Blockly.Toolbox} category. Can be passed into a Toolbox in order to categorize blocks\n * under a single namespace. The colour option is an HSV number.\n */\nexport interface Category {\n\tname: string;\n\n\tcolour?: number | string;\n\tcustom?: \"VARIABLE\" | \"PROCEDURE\" | string;\n\n\tmodules: module_type;\n}\n\n/**\n * @class Toolbox\n *\n * A simple wrapper for Blockly's Toolbox\n */\nexport class Toolbox {\n\tmodules: module_type;\n\n\t/**\n\t * @constructor\n\t *\n\t * Generates a toolbox with the given modules. The supplied modules can either be\n\t * module names themselves or Categories with submodules.\n\t *\n\t * @param {module_type} modules - The modules to load.\n\t */\n\tconstructor(modules: module_type) {\n\t\tthis.modules = modules;\n\t}\n\n\t/**\n\t * @function toString\n\t *\n\t * Returns a string representation of the toolbox XML needed by {Blockly.Toolbox}\n\t *\n\t * @returns {string} Returns the XML tree as a string\n\t */\n\ttoString(): string {\n\t\tlet res: string = \"<xml style=\\\"display: none;\\\">\";\n\n\t\tres += unwind(this.modules);\n\t\tres += \"</xml>\";\n\n\t\treturn res;\n\t}\n}\n\n//-----------------------------------------------------\n// File-level functions\n//-----------------------------------------------------\n\n// Attempts to build an XML string from a given list of Modules or Categories.\nexport function unwind(arg: module_type, prepend_xml: boolean = false): string {\n\tlet res = (prepend_xml) ? \"<xml>\" : \"\";\n\n\tlet cur: any;\n\tfor (let what of arg) {\n\t\tif ((<Category>what).modules) {\n\t\t\t// The argument is a category\n\t\t\tcur = <Category>what;\n\n\t\t\t// Create the category header\n\t\t\tres += \"<category name=\\\"\" + cur.name + \"\\\" colour=\\\"\" + cur.colour + \"\\\"\";\n\n\t\t\t// Aloow for custom category types\n\t\t\tif (cur.custom) {\n\t\t\t\tres += \" custom=\\\"\" + cur.custom + \"\\\"\";\n\t\t\t}\n\n\t\t\tres += \">\";\n\t\t\tres += unwind(cur.modules);\n\n\t\t\t// Close the category\n\t\t\tres += \"</category>\"\n\n\t\t} else if ((<Button>what).callbackKey) {\n\t\t\t// The argument is a button\n\t\t\tcur = <Button>what;\n\n\t\t\tres += `<button text=\"${cur.text}\" callbackKey=\"${cur.callbackKey}\"></button>`;\n\n\t\t} else if ((<Label>what).text) {\n\t\t\t// The argument is a label\n\t\t\tcur = <Label>what;\n\n\t\t\tres += \"<label text=\\\"\" + cur.text + \"\\\"></label>\";\n\n\t\t} else if ((<Separator>what).gap !== undefined) {\n\t\t\t// The argument is a separator\n\t\t\tcur = <Separator>what;\n\n\t\t\tres += \"<sep gap=\\\"\" + cur.gap + \"\\\"></sep>\";\n\n\t\t} else {\n\t\t\t// The argument is a block\n\t\t\tres += \"<block type=\\\"\" + what + \"\\\"></block>\";\n\t\t}\n\t}\n\n\tif (prepend_xml) res += \"</xml>\";\n\n\treturn res;\n}","/**\n * @class WindowDeclaration\n * \n * A simple wrapper for declaring window-level variables\n */\nexport class WindowDeclaration {\n\tname: string;\n\n\t/**\n\t * @constructor\n\t * \n\t * Default constructor\n\t * \n\t * @param {String} name - The window-level binding.\n\t * @param {Any} val - The value to store.\n\t */\n\tconstructor(name: string, val?: any) {\n\t\tthis.name = name;\n\n\t\tif (val || window.sessionStorage.getItem(name) == undefined)\n\t\t\twindow.sessionStorage.setItem(this.name, val !== null ? JSON.stringify(val) : null);\n\t}\n\n\t/**\n\t * @function delete\n\t * \n\t * Deletes a window binding.\n\t */\n\tdelete(): void {\n\t\twindow.sessionStorage.removeItem(this.name);\n\t}\n\n\t/**\n\t * @function get\n\t * \n\t * Returns the value of the window-level variable.\n\t * \n\t * @returns {Any} The value associated with the binding.\n\t */\n\tget(): any {\n\t\treturn JSON.parse(window.sessionStorage.getItem(this.name));\n\t}\n\n\t/**\n\t * @function set\n\t * \n\t * Sets the value of the window-level variable.\n\t * \n\t * @param {Any} val - The value to save\n\t */\n\tset(val: any) {\n\t\twindow.sessionStorage.setItem(this.name, JSON.stringify(val));\n\t}\n\n\t/**\n\t * @function toGetterBinding\n\t * \n\t * Returns a getter binding reference to eval().\n\t * \n\t * @returns {string} The binding reference.\n\t */\n\ttoGetterBinding(): string {\n\t\treturn \"__windowssGetItem(\\\"\" + this.name + \"\\\")\";\n\t}\n\n\tstatic asGetterBinding(name: string): string {\n\t\treturn \"__windowssGetItem(\\\"\" + name + \"\\\")\";\n\t}\n\n\tstatic asSetterBinding(name: string): string {\n\t\treturn \"__windowssSetItem(\\\"\" + name + \"\\\", \";\n\t}\n}\n\n/**\n * @class WindowManager\n * \n * A simple (static) window interface for not directly manipulating the window.\n */\nexport class WindowManager {\n\t/**\n\t * @function eById\n\t * \n\t * Gets an element from the DOM by its associated ID.\n\t * \n\t * @param {string} id - The DOM ID.\n\t * @returns {HTMLElement} The element corresponding to that ID.\n\t * @throws {Error} Throws an error if the specified ID does not exist.\n\t */\n\tstatic eById(id: string): HTMLElement {\n\t\tlet res = document.getElementById(id);\n\t\tif (res == null)\n\t\t\tthrow new Error(\"Could not find element with ID: \" + id);\n\t\t\n\t\treturn res;\n\t}\n\n\t/**\n\t * @function declare\n\t * \n\t * Declares a new window-level variable.\n\t * \n\t * @param {string} name - The name of the variable to declare.\n\t * @param {Any} val - The value to assign to that variable.\n\t * \n\t * @returns {WindowDeclaration} The declared variable.\n\t * @throws {Error} Throws an error if the window-level name exists.\n\t */\n\tstatic declare(name: string, val?: any): WindowDeclaration {\n\t\tif (window.sessionStorage.getItem(name) !== null) {\n\t\t\tthrow new Error(\"Window attribute already declared: \" + name);\n\t\t}\n\n\t\treturn new WindowDeclaration(name, val);\n\t}\n\n\t/**\n\t * @function fetch\n\t * \n\t * Fetches a window declaration by name.\n\t * \n\t * @param {string} name - The name fo the declared variable\n\t * \n\t * @return {WindowDeclaration} The declaration that matches the name.\n\t * @throws {Error} Throws an error if the window-level name does not exist.\n\t */\n\tstatic fetch(name: string): WindowDeclaration {\n\t\tif (window.sessionStorage.getItem(name) == undefined) {\n\t\t\tthrow new Error(\"Window attribute not defined: \" + name);\n\t\t}\n\n\t\treturn new WindowDeclaration(name);\n\t};\n\n\t/**\n\t * @function origin\n\t * \n\t * Returns the origin of the web page.\n\t * \n\t * @return {string} The origin of the web page\n\t */\n\tstatic origin(): string {\n\t\tlet p = location.href.split('/');\n\t\tdelete p[p.length - 1];\n\n\t\treturn p.join('/');\n\t}\n\n\t/**\n\t * @function clear\n\t * \n\t * Clears the window-level variables.\n\t */\n\tstatic clear(): void {\n\t\twindow.sessionStorage.clear();\n\t}\n}","\nimport averageBandPowerRangeComponent from \"./Components/averageBandPowerRange.component\";\nimport blocklyEndComponent from \"./Components/blocklyEnd.component\";\nimport displayComponent from \"./Components/display.component\";\nimport graphComponent from \"./Components/graph.component\";\nimport bufferComponent from \"./Components/buffer.component\";\nimport numberComponent from \"./Components/number.component\";\nimport stringComponent from \"./Components/string.component\";\n\n\nlet components = {\n  averageBandPowerRangeComponent: averageBandPowerRangeComponent,\n  blocklyEndComponent: blocklyEndComponent,\n  displayComponent: displayComponent,\n  graphComponent: graphComponent,\n  bufferComponent: bufferComponent,\n  numberComponent: numberComponent,\n  stringComponent: stringComponent,\n\n};\n\nexport default components;\n","export default {\n\tLOCALE: \"EN\",\n\n\tpaths: {\n\t\tbackground: \"media/background3.png\",\n\t\tamoeba: \"media/players/amoeba.png\",\n\t\tbacteria: \"media/players/green-bacteria.png\",\n\t\tshrimp: \"media/players/shrimp.png\"\n\t}\n}","import {Chart, ChartDataSets} from \"chart.js\";\nimport {WindowDeclaration, WindowManager} from \"./Utility/WindowManager\";\n\n// Alpha transparency component in hex\nconst alpha_component = \"88\";\n\n// Maximum sliding window size\nconst WINDOW_SIZE = 64;\n\n/**\n * @class Graph\n *\n * A simple {Chart} wrapper with dynamic dataset handles.\n */\nexport class Graph {\n\tctx: CanvasRenderingContext2D;\n\tdeclarations: Array<WindowDeclaration>;\n\tchart: Chart;\n\n\t/**\n\t * @constructor\n\t *\n\t * Creates a {Chart} with dynamic handles to datasets.\n\t *\n\t * @param {String} id - The ID of the canvas to bind to.\n\t * @param {String[]} datasets - An array of names of window declarations to use as datasets.\n\t * @param {String[]} colors - The colors to use on each dataset.\n\t */\n\tconstructor(id: string, datasets: Array<string>, colors: Array<string>) {\n\t\tthis.ctx = (<HTMLCanvasElement>document.getElementById(id)).getContext('2d');\n\t\tthis.declarations = datasets.map(name => WindowManager.fetch(name));\n\n\t\tlet ds = datasets.map((name, index) => {\n\t\t\tlet cap = name[0].toLocaleUpperCase() + name.substr(1);\n\t\t\treturn <ChartDataSets>{\n\t\t\t\tlabel: cap,\n\t\t\t\txLabels: Array.apply(null, {length: WINDOW_SIZE}).map(Number.call, Number),\n\t\t\t\tdata: [],\n\t\t\t\tbackgroundColor: colors[index] + alpha_component\n\t\t\t};\n\t\t});\n\n\t\tthis.chart = new Chart(this.ctx, {\n\t\t\ttype: 'line',\n\t\t\tdata: {\n\t\t\t\tdatasets: ds\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tscales: {\n\t\t\t\t\txAxes: [{\n\t\t\t\t\t\ttype: \"category\",\n\t\t\t\t\t\t// labels: []\n\t\t\t\t\t}],\n\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\tresponsive: true,\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t}\n\t\t});\n\t}\n\n\tupdate() {\n\t\tlet dec = this.declarations;\n\t\tthis.chart.data.datasets.forEach((ds, index) => {\n\t\t\tlet data = dec[index].get();\n\t\t\tif (data.length == 0)\n\t\t\t\treturn;\n\n\t\t\t(<number[]>ds.data).push(...dec[index].get());\n\t\t\tif (ds.data.length > WINDOW_SIZE)\n\t\t\t\tds.data.splice(0, ds.data.length - WINDOW_SIZE - 1);\n\t\t\t\t// ds.data = ds.data.slice(ds.data.length - WINDOW_SIZE - 1);\n\t\t});\n\n\t\tthis.chart.update(<any>0);\n\t}\n};\n\nexport default Graph;","import { locale } from \"./type_def\";\n\nlet messages: locale = {\n\tbci: {\n\t\tblock: \"BCI\",\n\t\ttooltip: \"The corresponding brain frequency.\",\n\n\t\talpha: \"Alpha\",\n\t\tbeta: \"Beta\",\n\t\ttheta: \"Theta\",\n\t\tdelta: \"Delta\",\n\t\tgamma: \"Gamma\",\n\n\t\tengagement: \"Engagement\"\n\t},\n\tbluetooth: {\n\t\terror: {\n\t\t\tconnection: \"Could not connect...\"\n\t\t}\n\t},\n\tcategory: {\n\t\tbci: \"BCI\",\n\t\tflow: \"Flow\",\n\t\tloops: \"Loops\",\n\t\tlogic: \"Logic\",\n\t\tmath: \"Math\",\n\t\tplayers: \"Players\",\n\t\ttext: \"Text\",\n\t\tvariables: \"Variables\"\n\t},\n\tflow: {\n\t\tadd: \"Add Flow Block\",\n\t\talready_exists: (name: string) => `A flow block named '${name}' already exists.`,\n\t\tprompt: \"New flow block name\",\n\t\ttooltip: \"A flow component. Click the gear to edit me.\"\n\t},\n\tplayer: {\n\t\tcreate: \"Create a player\",\n\t\tnew: \"New Player Name\",\n\t\tnone: \"No available players\",\n\n\t\tamoeba: \"Amoeba\",\n\t\tbacteria: \"Bacteria\"\n\t},\n\thelp: {\n\t\tno_players: \"There aren't any players. Press the + to add one!\"\n\t}\n};\n\nexport default messages;","import { locale } from \"./type_def\";\nimport en from \"./en.i18n\";\n\n/**\n * Set Locale\n *\n * Sets the locale of the program. See {@link type_def} for info on how to structure language files.\n *\n * Make sure to add to the switch statement below when you add a new language set.\n *\n * @param locale_code The {@link https://en.wikipedia.org/wiki/Language_code | language code} for the language to use.\n */\nexport function set_locale(locale_code: string): locale {\n\tswitch (locale_code.toLocaleLowerCase()) {\n\t\tcase \"en\":\n\t\t\treturn en;\n\t\tdefault:\n\t\t\tthrow new Error(\"Locale not found: \" + locale_code);\n\t}\n}","// main.ts\n// -------\n// Main entry point for this web application\n\n// =============================================================================\n// Imports\n// =============================================================================\nimport { WindowManager } from \"./Utility/WindowManager\";\nimport { Toolbox, Category, Separator } from \"./Utility/Toolbox\";\nimport { Playground, dictionary } from \"./Playground\";\nimport { Sprite, Point } from \"./Sprite\";\nimport { Interpreter } from \"JS-Interpreter/acorn_interpreter\";\n\n// Custom blocks\nimport { Device, BCICategory } from \"./Blocks/BCIBlocks\";\nimport { FlowCategory, AddFlowBlock, FlowCategoryCallback, flow_window_list, flow_window_type, FlowMutator, flow_block, flow_block_data } from \"./Blocks/FlowBlocks\";\nimport { PlayerCategory, player_window_list, player_list_type, PlayerCategoryCallback, PlayerSet, player_list_item } from \"./Blocks/PlayerBlocks\";\n\n// Configuration\nimport config from \"./config\";\n\n// Import language\nimport * as i18n from \"./i18n/i18n\";\nimport { DeviceState } from \"bci-device\";\nlet locale = i18n.set_locale(config.LOCALE);\n\n// Charting\nimport Graph from \"./graph\";\nimport { CustomBlock } from \"./Utility/CustomBlock\";\nlet g = new Graph(\"graph\", [\"flow_data\"], [\"#ffe119\"]);\nsetInterval(() => g.update(), 100);\n\n// =============================================================================\n// Initial set up\n// =============================================================================\n// References to window elements\nlet blockly_div = WindowManager.eById(\"workspace\");\nlet code_div = WindowManager.eById(\"codeText\");\nlet webgl_div = <HTMLCanvasElement>WindowManager.eById(\"webgl\");\n\n// Highligh blocks\nBlockly.JavaScript.STATEMENT_PREFIX = \"__highlightBlock(%1);\\n\";\nBlockly.JavaScript.addReservedWords(\"__highlightBlock\");\n\n\n// =============================================================================\n// WebGL set up\n// =============================================================================\n// Set up WebGL\nlet playground = new Playground(webgl_div);\nlet players: dictionary<Sprite> = {};\n\n// Players\nlet background = playground.create_sprite(\"__background\", \"__background\", \"background\", config.paths.background, () => __drawFrame());\nplayers[\"__background\"] = background;\n\n// Draw\nBlockly.JavaScript.addReservedWords(\"__drawFrame\");\n\n// Draw all sprites\nfunction __drawFrame() {\n\treturn new Promise(resolve => {\n\t\tplayground.draw(Object.values(players));\n\t\tresolve(\"Drawn\");\n\t});\n}\n\n// Set up the player blocks to draw after\nPlayerSet.set_suffix(\"__drawFrame();\\n\");\n\n\n// =============================================================================\n// Mouse interactions for playground\n// =============================================================================\n// Set up mouse events\nlet trash = WindowManager.eById(\"canvas-trash\");\nlet mouse = {point: {x: 0, y: 0}, down: false, shouldDelete: false};\nlet selected = \"\";\nwebgl_div.onmousedown = (event: MouseEvent) => {\n\tmouse.down = true;\n};\nwebgl_div.onmouseup = (event: MouseEvent) => {\n\tmouse.down = false;\n\n\tlet delete_modal = WindowManager.eById(\"delete-modal\");\n\tif (mouse.shouldDelete) {\n\t\tdelete_modal.click();\n\n\t\ttrash.style.color = \"white\";\n\t\ttrash.style.transform = \"scale(1, 1)\";\n\t\ttrash.style.right = \"-1em\";\n\t\tmouse.shouldDelete = false;\n\t}\n};\nwebgl_div.onmousemove = (event: MouseEvent) => {\n\tlet bounds = webgl_div.getBoundingClientRect();\n\tlet in_range = (val: number, ref: number, range: number) => (val > ref - range) && (val < ref + range);\n\n\t// FIXME: Figure out why there is a 64 pixel offset\n\tmouse.point = {x: event.clientX / bounds.width * 2 - 1.0, y: (event.clientY - 64) / bounds.height * -2 + 1.0};\n\n\t// Move if selected\n\tif (mouse.down) {\n\t\tif (selected === \"\") return;\n\n\t\tplayers[selected].set_position(mouse.point);\n\t\tlet windows = <player_list_type>player_window_list.get();\n\t\tlet find_player = (id: string) => {\n\t\t\tfor (let i = 0; i != windows.length; ++i) {\n\t\t\t\tconsole.log(windows[i]);\n\t\t\t\tif (windows[i][1] == id)\n\t\t\t\t\treturn windows[i];\n\t\t\t}\n\n\t\t\tthrow \"PLAYER NOT FOUND: \" + name;\n\t\t};\n\t\tconsole.log(selected);\n\t\tlet found = find_player(selected);\n\t\tfound[2] = mouse.point;\n\t\tplayer_window_list.set(windows);\n\n\t\t// Draw\n\t\t__drawFrame();\n\n\t\t// Define the trash region as being in [0.85, 0.95], [-0.85, -0.95]\n\t\tif (in_range(mouse.point.x, 0.9, 0.05) && in_range(mouse.point.y, -0.9, 0.06)) {\n\t\t\ttrash.style.transform = \"scale(1.1, 1.1)\";\n\t\t\ttrash.style.color = \"red\";\n\t\t\tmouse.shouldDelete = true;\n\t\t} else {\n\t\t\ttrash.style.color = \"white\";\n\t\t\ttrash.style.transform = \"scale(1, 1)\";\n\t\t\tmouse.shouldDelete = false;\n\t\t}\n\t} else {\n\t\tlet show_cursor = false;\n\t\tfor (let player in players) {\n\t\t\tif (player == \"__background\") continue;\n\n\t\t\tlet pos = players[player].get_position();\n\t\t\tif (in_range(mouse.point.x, pos.x, 0.1) && in_range(mouse.point.y, pos.y, 0.1)) {\n\t\t\t\tshow_cursor = true;\n\t\t\t\tselected = player;\n\t\t\t}\n\t\t}\n\n\t\tif (!show_cursor) {\n\t\t\ttrash.style.right = \"-1em\";\n\t\t\tselected = \"\";\n\t\t} else {\n\t\t\ttrash.style.right = \"0\";\n\t\t\tWindowManager.eById(\"selected-player\").innerHTML = players[selected].name;\n\t\t}\n\n\t\twebgl_div.style.cursor = show_cursor ? \"pointer\" : \"default\";\n\t}\n}\n\n\n// =============================================================================\n// Blockly workspace set up\n// =============================================================================\n// Set up toolbox categories\nlet cat_loops: Category = {\n\tname: locale.category.loops,\n\tcolour: \"%{BKY_LOOPS_HUE}\",\n\n\tmodules: [\"controls_whileUntil\", \"controls_repeat_ext\", \"controls_repeat\"]\n};\n\nlet cat_text: Category = {\n\tname: locale.category.text,\n\tcolour: \"%{BKY_TEXTS_HUE}\",\n\n\tmodules: [\"text\", \"text_print\"]\n}\n\nlet cat_logic: Category = {\n\tname: locale.category.logic,\n\tcolour: \"%{BKY_LOGIC_HUE}\",\n\n\tmodules: [\"controls_if\", \"logic_compare\", \"logic_operation\", \"logic_negate\", \"logic_boolean\", \"logic_ternary\"]\n};\n\nlet cat_math: Category = {\n\tname: locale.category.math,\n\tcolour: \"%{BKY_MATH_HUE}\",\n\n\tmodules: [\"math_number\", \"math_single\", \"math_round\", \"math_trig\", \"math_constrain\", \"math_arithmetic\", \"math_modulo\", \"math_random_int\"]\n};\n\nlet cat_vars: Category = {\n\tname: locale.category.variables,\n\tcolour: 330,\n\tcustom: \"VARIABLE\",\n\n\tmodules: []\n};\n\n// Set up the workspace\nlet toolbox = new Toolbox([\n\tcat_loops,\n\tcat_logic,\n\tcat_text,\n\tcat_math,\n\tcat_vars,\n\n\t<Separator>{gap: 0},\n\n\tBCICategory(locale.category.bci),\n\tFlowCategory(locale.category.flow),\n\tPlayerCategory(locale.category.players)\n]);\nlet workspace = Blockly.inject(blockly_div, {\n\ttoolbox: toolbox.toString(),\n});\n\n// Resize on window change\nlet onresize = function(e?: Event) {\n\tlet area = WindowManager.eById(\"workspace-area\");\n\n\t// Position blocklyDiv over blocklyArea.\n\tblockly_div.style.left = 0 + 'px';\n\tblockly_div.style.top = 0 + 'px';\n\tblockly_div.style.width = area.offsetWidth + 'px';\n\tblockly_div.style.height = area.offsetHeight + 'px';\n\n\tBlockly.svgResize(workspace);\n};\nwindow.addEventListener('resize', onresize, false);\nonresize();\n\n// Highlight the blocks\nfunction __highlightBlock(id: string) {\n\tworkspace.highlightBlock(id);\n}\n\n// Add link between WebGL players and Blockly\nworkspace.registerToolboxCategoryCallback(\"PLAYERS\", PlayerCategoryCallback);\n\n// Add link between flow and blockly\nworkspace.registerToolboxCategoryCallback(\"FLOWS\", FlowCategoryCallback);\n\n// Allow for auto-updating\nworkspace.addChangeListener((event: HTMLElementEventMap): void => {\n\tlet code = Blockly.JavaScript.workspaceToCode(workspace);\n\n\tcode_div.innerHTML = code;\n});\n\n\n// =============================================================================\n// Flow blocks\n// =============================================================================\n// Register a mutator for showing the flow overlay\nBlockly.Extensions.registerMutator(\"flow_mutator\", FlowMutator.get_serialize(), function () {\n\tthis.setMutator(new FlowMutator());\n}, null);\n\n// Allow for new blocks to be created\nworkspace.registerButtonCallback(\"add_flow\", (e: HTMLElement) => {\n\t// Get the requested name\n\tlet name = prompt(locale.flow.prompt);\n\n\t// Do nothing if the user canceled or gave a non-valid name\n\tif (name == undefined || name.length == 0)\n\t\treturn;\n\n\tlet fl = <flow_window_type>flow_window_list.get();\n\n\t// If the variable already exists, retry indefinetly\n\twhile (name != undefined && fl[name] != undefined) {\n\t\talert(locale.flow.already_exists(name));\n\t\tname = prompt(locale.flow.prompt);\n\t}\n\n\t// Last check\n\tif (name == undefined || name.length == 0)\n\t\treturn;\n\n\t// Create the block and save its info to the window\n\tAddFlowBlock(name);\n\n\t// Redraw player toolbox\n\tworkspace.refreshToolboxSelection();\n});\n\n// =============================================================================\n// Player manipulation\n// =============================================================================\n// Add a player to the scene\nlet player_count: dictionary<number> = {};\nlet addPlayer = (type: string, init: {id: string, name: string, position: Point} = undefined) => {\n\t// Hide the modal\n\tlet modal_close = <HTMLElement>document.getElementsByClassName(\"close\")[0];\n\tmodal_close.click();\n\n\t// Keep track of how many players of each type for naming\n\tif (!player_count[type])\n\t\tplayer_count[type] = 1;\n\n\tlet name: string, id: string, position: Point;\n\tif (init) {\n\t\tname = init.name;\n\t\tid = init.id;\n\t\tposition = init.position;\n\n\t\t// Update count if needed\n\t\tlet count = Number(name.match(/-([0-9]+)$/)[1]);\n\t\tif (player_count[type] < count)\n\t\t\tplayer_count[type] = count;\n\t} else {\n\t\tname = type + \"-\" + player_count[type];\n\t\tid = \"PLAYER_\" + name;\n\t\tposition = { x: 0, y: 0};\n\t}\n\tlet path = (<dictionary<string>>config.paths)[type];\n\n\t// Increment player count\n\t++player_count[type];\n\n\t// Create the player\n\tplayers[id] = playground.create_sprite(id, name, type, path, () => __drawFrame());\n\tplayers[id].set_scale({x: 0.1, y: 0.1});\n\tplayers[id].set_position(position);\n\tplayer_window_list.set((<player_list_type>player_window_list.get()).concat([[name, id, position]]));\n\n\t// Redraw player toolbox\n\tworkspace.refreshToolboxSelection();\n\n\t__drawFrame();\n};\nlet removePlayer = (id: string) => {\n\t// See if player is valid\n\tlet player = players[id];\n\n\tif (!player) {\n\t\tconsole.warn(\"Invalid player specified.\", id);\n\t\treturn;\n\t}\n\n\t// Remove the sprite\n\tplayer.delete();\n\tdelete players[id];\n\n\t// Remove the Blockly link to the sprite\n\tlet pl = <player_list_type>player_window_list.get();\n\tplayer_window_list.set(pl.filter((pair) => {\n\t\tif (pair[1] === id) {\n\t\t\treturn false;\n\t\t}\n\t}));\n\n\t// Redraw player toolbox\n\tworkspace.refreshToolboxSelection();\n\n\tselected = \"\";\n\tmouse.shouldDelete = false;\n\t__drawFrame();\n};\nlet clear_players = () => {\n\tlet keys = Object.keys(players);\n\tfor (let i = 0; i != keys.length; ++i) {\n\t\t// Don't get rid of the background\n\t\tif (players[keys[i]].type == \"background\")\n\t\t\tcontinue;\n\n\t\tremovePlayer(players[keys[i]].id);\n\t}\n\n\t// Clear the player info\n\tplayer_count = {};\n}\n\n\n// =============================================================================\n// DOM bindings\n// =============================================================================\n// Handle Code execution\nlet exec = WindowManager.eById(\"play_arrow_handler\");\nlet run_icon = WindowManager.eById(\"play_arrow_icon\");\nlet handler: NodeJS.Timeout = null;\nlet nextStep = (interp: Interpreter) => {\n\tif (interp.step())\n\t\thandler = setTimeout(nextStep, 5, interp);\n\telse\n\t\trun_icon.innerHTML = \"play_arrow\";\n};\n\nexec.onclick = () => {\n\tlet code = Blockly.JavaScript.workspaceToCode(workspace);\n\tconsole.log(\"CODE:\", code);\n\tlet interp = new Interpreter(code, (interpreter: Interpreter, scope: object) => {\n\t\t// Add an API function for prompt / alert\n\t\tinterpreter.setProperty(scope, \"alert\",\n\t\t\tinterpreter.createNativeFunction((text: string) => {\n\t\t\t\treturn alert(text);\n\t\t\t})\n\t\t);\n\n\t\tinterpreter.setProperty(scope, \"prompt\",\n\t\t\tinterpreter.createNativeFunction((text: string) => {\n\t\t\t\treturn prompt(text);\n\t\t\t})\n\t\t);\n\n\t\t// Add an API function for highlighting blocks.\n\t\tinterpreter.setProperty(scope, '__highlightBlock',\n\t\t\tinterpreter.createNativeFunction((id: string) => {\n\t\t\t\treturn workspace.highlightBlock(id);\n\t\t\t})\n\t\t);\n\n\t\t// Add an API function for drawing a frame\n\t\tinterpreter.setProperty(scope, \"__drawFrame\",\n\t\t\tinterpreter.createNativeFunction(() => {\n\t\t\t\treturn __drawFrame();\n\t\t\t})\n\t\t);\n\n\t\t// Add an API function for referencing the sessionStorage\n\t\tinterpreter.setProperty(scope, \"__windowssSetItem\",\n\t\t\tinterpreter.createNativeFunction((id: string, val: string) => {\n\t\t\t\treturn window.sessionStorage.setItem(id, val);\n\t\t\t})\n\t\t);\n\n\t\tinterpreter.setProperty(scope, \"__windowssGetItem\",\n\t\t\tinterpreter.createNativeFunction((id: string) => {\n\t\t\t\treturn window.sessionStorage.getItem(id);\n\t\t\t})\n\t\t);\n\t});\n\n\tif (run_icon.innerHTML === \"play_arrow\") {\n\t\trun_icon.innerHTML = \"stop\";\n\n\t\t// Step through nicely\n\t\tnextStep(interp);\n\t} else {\n\t\tclearTimeout(handler);\n\t\trun_icon.innerHTML = \"play_arrow\";\n\t}\n}\n\n// Handle saving and loading\nlet save_handler = WindowManager.eById(\"save_handler\");\nsave_handler.onclick = () => {\n\tlet as_dom = Blockly.Xml.workspaceToDom(workspace);\n\n\t// Save player info\n\tlet players_as_dom = document.createElement(\"players\");\n\tlet player_keys = Object.keys(players);\n\tfor (let i = 0; i != player_keys.length; ++i) {\n\t\tlet pla = players[player_keys[i]];\n\t\tif (pla.type == \"background\")\n\t\t\tcontinue;\n\n\t\tlet player_as_dom = document.createElement(\"player\");\n\t\tplayer_as_dom.setAttribute(\"position\", JSON.stringify(pla.get_position()));\n\t\tplayer_as_dom.setAttribute(\"type\", pla.type);\n\t\tplayer_as_dom.setAttribute(\"name\", pla.name);\n\t\tplayer_as_dom.setAttribute(\"id\", pla.id);\n\n\t\tplayers_as_dom.appendChild(player_as_dom);\n\t}\n\tas_dom.appendChild(players_as_dom);\n\n\t// Save flow info\n\tlet flows_as_dom = document.createElement(\"flows\");\n\tlet flows = flow_window_list.get();\n\tlet flow_keys = Object.keys(flows);\n\tfor (let i = 0; i != flow_keys.length; ++i) {\n\t\tlet flo = flows[flow_keys[i]];\n\n\t\tlet flow_as_dom = document.createElement(\"flow\");\n\t\tflow_as_dom.setAttribute(\"data\", flo.data);\n\t\tflow_as_dom.setAttribute(\"name\", flo.name);\n\n\t\tflows_as_dom.appendChild(flow_as_dom);\n\t}\n\tas_dom.appendChild(flows_as_dom);\n\n\tlet as_text = Blockly.Xml.domToText(as_dom);\n\n\tfunction download(filename: string, text: string) {\n\t\tvar element = document.createElement('a');\n\t\telement.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n\t\telement.setAttribute('download', filename);\n\n\t\telement.style.display = 'none';\n\t\tdocument.body.appendChild(element);\n\n\t\telement.click();\n\n\t\tdocument.body.removeChild(element);\n\t}\n\n\tdownload(\"workspace.txt\", as_text);\n};\n\nlet load_handler = WindowManager.eById(\"open_in_browser_handler\");\nlet load_input = WindowManager.eById(\"load_file_input\");\n\nload_handler.onclick = () => load_input.click();\nload_input.onchange = (e) => {\n\tlet file = (<HTMLInputElement>(e.target)).files[0];\n\tif (!file) {\n\t\treturn;\n\t}\n\n\t// Clear the players for the new loaded space\n\tclear_players();\n\n\t// Remove all blocks currently placed\n\tworkspace.clear();\n\tworkspace.clearUndo();\n\n\t// Remove the flow blocks\n\tlet flows = flow_window_list.get() as flow_window_type;\n\tlet keys = Object.keys(flows);\n\tfor (let i = 0; i != keys.length; ++i) {\n\t\tlet flo = flows[keys[i]];\n\t\tlet name = `flow_block_${flo.name}`;\n\t\tlet block = Blockly.Blocks[name] as flow_block;\n\n\t\tblock.editor_.destroy();\n\t\tblock.editor_ = undefined;\n\t\tCustomBlock.dispose(`flow_block_${flo.name}`, true);\n\t}\n\tflow_window_list.set({});\n\n\tlet reader = new FileReader();\n\treader.onload = (e) => {\n\t\tlet contents = (<FileReader>(e.target)).result.toString();\n\n\t\t// Convert to XML\n\t\tlet as_xml = Blockly.Xml.textToDom(contents);\n\n\t\t// Create all flow blocks not yet made\n\t\tlet flow_blocks = as_xml.querySelector(\"flows\");\n\t\tflow_blocks.querySelectorAll(\"flow\").forEach(flow => {\n\t\t\tlet block = AddFlowBlock(flow.getAttribute(\"name\"));\n\n\t\t\tlet as_flow = block.block() as flow_block;\n\t\t\tlet data = JSON.parse(flow.getAttribute(\"data\")) as flow_block_data;\n\t\t\tas_flow.data = flow.getAttribute(\"data\");\n\t\t\tas_flow.editor_.get_editor().fromJSON(data.editor);\n\t\t});\n\n\t\tlet player_blocks = as_xml.querySelector(\"players\");\n\t\tplayer_blocks.querySelectorAll(\"player\").forEach(player => {\n\t\t\tlet type = player.getAttribute(\"type\");\n\t\t\tlet init = {\n\t\t\t\tid: player.getAttribute(\"id\"),\n\t\t\t\tname: player.getAttribute(\"name\"),\n\t\t\t\tposition: JSON.parse(player.getAttribute(\"position\"))\n\t\t\t}\n\n\t\t\t// Create the player\n\t\t\taddPlayer(type, init);\n\t\t});\n\n\t\tBlockly.Xml.domToWorkspace(as_xml, workspace);\n\t};\n\n\treader.readAsText(file);\n};\n\n// Handle displaying battery\nlet battery_icon = WindowManager.eById(\"battery_icon\");\nlet present_battery = () => {\n\treturn;\n\n\tlet battery_level = WindowManager.fetch(\"battery\").get();\n\tif (battery_level < 0) return;\n\n\tlet interval = Math.round(battery_level / 10) * 10;\n\n\tif (interval < 20)\n\t\tbattery_icon.innerHTML = \"battery_alert\";\n\telse if (interval > 90)\n\t\tbattery_icon.innerHTML = \"battery_full\";\n\telse\n\t\tbattery_icon.innerHTML = \"battery_\" + interval;\n};\n\nsetInterval(present_battery, 30 * 1000);\n\n// Handle Bluetooth\nlet connector = WindowManager.eById(\"bluetooth_handler\");\nlet connector_icon = WindowManager.eById(\"bluetooth_icon\");\nconnector.onclick = async () => {\n\tconnector.setAttribute(\"disabled\", \"true\");\n\n\tif (Device.state == DeviceState.CONNECTED) {\n\t\tawait Device.disconnect();\n\t\tconnector_icon.innerText = \"bluetooth\";\n\t} else {\n\t\ttry {\n\t\t\tconnector_icon.classList.add(\"blink\");\n\t\t\tconnector_icon.innerText = \"bluetooth_searching\";\n\t\t\tawait Device.connect();\n\n\t\t\tconsole.log(\"Connected device.\");\n\t\t\tconnector_icon.classList.remove(\"blink\");\n\t\t\tconnector_icon.innerText = \"bluetooth_connected\";\n\n\t\t\tsetTimeout(present_battery, 10 * 1000);\n\t\t} catch (e) {\n\t\t\tconnector_icon.classList.remove(\"blink\");\n\t\t\tconsole.log(locale.bluetooth.error.connection, e);\n\t\t\tconnector_icon.innerText = \"bluetooth\";\n\t\t}\n\t}\n\n\tconnector.removeAttribute(\"disabled\");\n}\n\n// Handle adding / removing players\nfor (let type in config.paths) {\n\tif (type === \"background\") continue;\n\n\tlet ele = <HTMLImageElement>WindowManager.eById(\"add_\" + type);\n\tele.onclick = () => addPlayer(type);\n\tele.src = (<dictionary<string>>config.paths)[type];\n\n\tlet del = WindowManager.eById(\"delete-character\");\n\tdel.onclick = () => removePlayer(selected);\n}"],"sourceRoot":""}